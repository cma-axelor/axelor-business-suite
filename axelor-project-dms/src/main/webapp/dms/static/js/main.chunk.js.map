{"version":3,"sources":["../node_modules/react-pdf/node_modules/pdfjs-dist/build sync","Dms/withRoot.js","Dms/utils.js","Dms/constant.js","Dms/components/ContextMenu.js","Dms/components/NewFolderDialog.js","Dms/components/TreeView.js","Dms/components/GridView/ListView.js","Dms/components/GridView/CardView.js","Dms/components/ConfirmationDialog.js","Dms/components/GridView/index.js","Dms/components/ResponsiveView.js","Dms/components/SlideTransition.js","Dms/components/UploadView.js","Dms/components/advanced-search/ChipsList.js","Dms/components/icons/FontAwesomeIcon.js","Dms/components/form/string.js","Dms/components/form/input/input.js","Dms/components/advanced-search/common.js","Dms/components/advanced-search/select.js","Dms/components/form/selection.js","Dms/components/form/utils.js","Dms/components/form/input/datetime-picker.js","Dms/components/form/input/number.js","services/RestService.js","Dms/components/advanced-search/constant.js","Dms/service.js","Dms/components/advanced-search/utils.js","Dms/components/advanced-search/filterEditor.js","Dms/components/advanced-search/index.js","Dms/components/Toolbar.js","Dms/components/FilePreview.js","Dms/components/side-detail-view/SideDetailView.js","Dms/components/side-detail-view/index.js","Dms/components/version-dialog/VersionDialog.js","Dms/components/TagsFilterTree.js","Dms/components/SideTreeView.js","Dms/api.js","Dms/components/permission-dialog/PermissionDialog.js","Dms/components/permission-dialog/index.js","Dms/components/Loader.js","Dms/Dms.js","Dms/DmsContainer.js","Dms/app.js","Dms/index.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","originalDir","generateClassName","createGenerateClassName","dangerouslyUseGlobalCSS","productionPrefix","WithTheme","direction","palette","children","useEffect","document","body","dir","removeAttribute","theme","undefined","createMuiTheme","layout","cols","header","height","primary","blue","secondary","pink","typography","useNextVariants","createTheme","StylesProvider","ThemeProvider","CssBaseline","withRoot","FILE_UPLOAD_STATUS","getOrder","name","indexOf","getOrderField","substring","translate","str","window","_t","filterFields","title","type","target","targetName","permissionValues","ContextMenu","props","item","menuOptions","React","useState","position","setPosition","handleContextMenu","useCallback","length","preventDefault","mouseX","clientX","mouseY","clientY","handleClose","handleMenuItemClick","menu","stopPropagation","method","onContextMenu","Menu","keepMounted","open","Boolean","onClose","anchorReference","anchorPosition","top","left","map","i","MenuItem","key","onClick","useStyles","makeStyles","form","display","flexDirection","input","marginBottom","NewFolderDialog","onSave","setName","classes","handleChange","value","handleSave","alert","Dialog","aria-labelledby","maxWidth","fullWidth","DialogTitle","DialogContent","className","Input","onChange","placeholder","DialogActions","Button","variant","color","dmsTreeContainer","width","paddingRight","maxHeight","overflow","treeElement","padding","treeElementContainer","cursor","backgroundColor","selected","expandIcon","marginTop","folderIcon","fontSize","marginRight","noChildren","paddingLeft","Expander","Icon","isCollapse","ArrowDropDown","ArrowRightIcon","DmsTree","data","currentFolder","handleFolder","onFolderCreate","expandList","setExpandList","setItem","toggleExpand","flag","list","ind","splice","push","handleFolderClick","handleCreateDocument","fileName","isDirectory","relatedId","relatedModel","parent","favouriteUserSet","handleCreateDialog","handleCloseCreateDialog","home","renderTreeElement","childrenList","level","childrens","parentId","field","filter","d","getChildren","includes","Fragment","classNames","style","marginLeft","noDocumentsFound","justifyContent","listContainer","listHeaderContainer","listContentContainer","listHeaderCell","sortIcon","recordLine","borderBottom","selectedRecordLine","ellipseTypo","textOverflow","whiteSpace","ellipse","columnTitle","textTransform","columns","canSort","getAllowedOptions","options","record","canWrite","index","findIndex","o","ListView","selectedFiles","onSorting","sortingField","fields","isSelected","f","columnFields","handleSort","column","Typography","noWrap","alignSelf","moment","updatedOn","format","val","fullName","flexWrap","alignContent","breakpoints","only","border","margin","borderRadius","imageIconView","alignItems","fontWeight","updatedText","infoContainer","flex","infoRow","actionView","actionIcon","selectedStar","amber","thumbnailImage","thumbnailTypeIcon","Thumbnail","fileType","src","getDocumentURL","alt","typeIcon","CardView","userId","handleFavourite","handleStarClick","isFavourite","onConfirm","gridViewWrapper","dropOverlayContainer","homeCrumb","homeIcon","crumbTypo","lineHeight","lastCrumbTypo","breadcrumb","DropOverlay","GridView","ref","useRef","viewMode","onSelect","onFolderDoubleClick","onDelete","onFavouriteDocument","customFields","clicks","setClicks","clickEvent","setClickEvent","handleDoubleClick","handleDocumentClick","ctrlKey","handleClick","singleClickTimer","setTimeout","clearTimeout","handleDeleteDialog","handleDelete","handleConfirmationClose","handleCrumbClick","renderCrumbTypo","crumb","isLast","getCustomFields","modelField","minWidth","useDrop","accept","NativeTypes","FILE","drop","_props","monitor","handleFileUpload","getItem","files","collect","isOver","canDrop","dropProps","Breadcrumbs","root","aria-label","Grid","ConfirmationDialog","ResponsiveView","DesktopView","MobileView","viewProps","desktopViewProps","mobileViewProps","Hidden","smUp","defaultProps","Transition","forwardRef","Slide","uploadViewContainer","bottom","right","minHeight","zIndex","uploadViewCard","uploadList","fileInfoView","progressView","fileNameText","titleView","actionText","actionButton","droppedFiles","cancelUpload","retryUpload","setOpen","fullScreen","TransitionComponent","SlideTransition","file","LinearProgress","progress","status","Paper","UploadView","chip","listItem","divider","buttonContainer","inputIconBtn","filters","text","findFilter","find","x","List","Chip","label","IconButton","Search","library","add","fas","far","fab","FontAwesomeIcon","container","subtitle1","spacing","link","mobleString","RenderStringWidget","useTheme","desktopView","useMediaQuery","up","RenderRelationalWidget","optionLabelKey","viewRecord","renderLink","Link","Array","isArray","v","StringWidget","customRender","InputField","autoTitle","$value","onBlur","readOnly","inline","InputProps","isControlled","other","setValue","_onBlur","inputProps","autoComplete","disabled","TextField","rows","ButtonLink","rest","component","BooleanRadio","RadioGroup","FormControlLabel","control","Radio","BooleanCheckBox","isDisabled","Checkbox","checked","SimpleButton","hide","classnames","button","select","Selection","Select","formControl","paddingBottom","inputRoot","flexGrow","inputWrapper","valueContainer","chipFocused","emphasize","grey","noOptionsMessage","singleValue","viewIcon","inputComponent","inputRef","components","Control","innerProps","innerRef","selectProps","isMulti","TextFieldProps","single","MultiValue","chipProps","removeProps","tabIndex","clsx","isFocused","deleteIcon","NoOptionsMessage","Option","Placeholder","SingleValue","ValueContainer","valueContainerClassName","setOptions","loading","setLoading","selectedValue","setSelectedValue","error","isSearchable","optionValueKey","fetchAPI","beforeFetchAPI","isPortal","autoFocus","_onFocus","onFocus","formControlStyle","clearIndicatorStyle","onView","findOption","fetch","a","search","selectedItem","split","trim","delayFetch","cb","duration","timer","clearTimer","current","setTimer","args","useDebounce","option","getValueTitle","FormControl","InputLabelProps","shrink","isLoading","isClearable","onInputChange","action","join","getOptionLabel","getOptionValue","blurInputOnSelect","menuPlacement","styles","menuPortal","clearIndicator","filterOption","menuPortalTarget","PICKERS","date","KeyboardDatePicker","time","Time","datetime","DateTime","defaultFormat","DateTimePicker","valueRef","Picker","MuiPickersUtilsProvider","utils","MomentUtils","autoOk","PopoverProps","anchorOrigin","vertical","horizontal","transformOrigin","disableToolbar","invalidDateMessage","animateYearScrolling","onKeyDown","keyCode","onOpen","NumberFormatCustom","thousandSeparator","getInputRef","NumberField","scale","customeFormat","blur","setVal","formatValue","Number","toFixed","displayType","lastCookieString","operators_by_type","enum","string","integer","boolean","operators","lastCookies","readCookie","cookieString","cookie","reduce","obj","parts","AxelorRest","http","entity","this","put","post","delete","records","version","get","fieldName","Http","baseURL","interceptor","instance","axios","create","console","log","callback","url","config","overrideHeaders","headers","$headers","token","withCredentials","Object","assign","JSON","stringify","doRequest","request","timeoutRequest","delay","Promise","reject","race","then","res","catchError","logout","catch","bind","intercept","username","password","isAuth","appUser","app","description","user","language","email","info","xhr","XMLHttpRequest","doClean","forEach","k","setRequestHeader","overrideMimeType","onload","abort","onreadystatechange","readyState","callbackInterceptor","result","parse","responseText","upload","onprogress","fileSize","total","parseFloat","loaded","done","Math","round","transfer","size","formatSize","lengthComputable","send","httpService","getBlob","defaults","responseType","blob","response","createElement","href","URL","createObjectURL","download","click","AxelorService","model","getRestClient","appService","appProjectService","projectService","dmsService","filterService","permissionService","customFieldService","dmsVersionService","tagsService","searchRecordsByField","searchValue","targetSearch","service","limit","offset","criteria","operator","group","paddingTop","textField","flexBasis","criteriaValue","mobileViewCriteria","mobileViewButtonLink","defaultState","isArchived","isShare","addOperatorByType","renderSimpleWidget","Component","value2","renderWidget","fetchData","closeMenuOnScroll","renderRelationalWidget","selectionList","AddCriteria","onRemove","mobileView","toLowerCase","operatorsOptions","SelectWrapper","Close","FilterEditor","customCriteria","setCustomCriteria","clearFilters","applyFiltersClick","filterView","onExport","onExportAll","openDialog","setOpenDialog","onCriteriaChange","produce","draft","getDefaultValue","onSaveFilter","savedFilter","shared","filterCustom","replace","ListItem","buttonLink","onRemoveCriteria","Divider","aria-describedby","DialogContentText","borderColor","searchContainer","paper","boxShadow","searchFilterContainer","searchFilter","filterLabel","getJSONData","IconLabel","icon","FilterListItem","isChecked","FilterList","active","AdvanceFilterInput","onContentSearch","inputText","setInputText","handleContentSearch","onKeyPress","disableUnderline","endAdornment","InputAdornment","AdvanceSearchFilterWidget","domain","anchorEl","activeFilters","setActiveFilters","isSingleFilter","setFilterSingle","currentFilter","getFilter","values","isCustom","selectedFilters","selectedDomains","graphqlFilter","_domains","applyFilters","query","onFilterClick","isDomainFilter","onFilterCheck","applyCustomFilters","onModify","renderAdvanceSearchView","prev","ClickAwayListener","onClickAway","Popper","placement","disablePortal","Drawer","toolbarWrapper","iconButton","transition","transitions","easing","easeInOut","standard","selectedViewMode","popper","customButton","projectSelectorPaper","TREE_VIEW_WIDTH","favourite","favouriteButtonText","favouriteButton","favouriteIcon","mobileDrawer","desktopToolbarWrapper","projectSelector","advanceSearch","uploadText","disableNext","pagination","disablePrev","ProjectSelector","selectedProject","projectList","handleSelectedProject","setAnchorEl","selectorTitle","event","currentTarget","Popover","MenuList","project","handleMenuClick","onListViewClick","onGridViewClick","onFilter","onPrev","onNext","onFavouriteSearch","FavouriteIcon","handleSelectedProjectProp","onOpenUpload","MoreVert","anchor","Toolbar","onViewModeChange","favouriteSearch","StarIcon","StarBorderIcon","elevation","square","pdfjs","GlobalWorkerOptions","workerSrc","pdfPage","mobilePdfPage","pdfNavigation","mobileImage","mobielForm","overflowX","imageView","FilePreview","pdfBlob","totalPdfPages","setTotalPdfPages","pdfPageNumber","setPdfPageNumber","handleDocumentLoad","numPages","gotoNext","n","gotoPrevious","transitionDuration","filePath","getDMSDownloadURL","onLoadSuccess","pageNumber","FilePreviewContainer","setPdfBlob","drawer","fullDrawer","shadows","textAlign","content","thumbnail","documentLockIcon","versionListItem","versionFileName","restoreButton","versionDownloadIcon","chips","chipContent","chipClose","tagSaveIcon","restoreText","getVersionButton","from","transform","to","syncIcon","animation","isLock","MenuProps","PaperProps","ITEM_HEIGHT","SideDetailView","onPreview","onDownload","onNewVersion","onUnlock","onLock","onSendMail","onPermission","onVersionDownload","tags","onRestore","tagList","handleDeleteChip","updateVersions","versionsLoading","versions","preview","handlePreviewClose","justify","xs","align","lockedBy","canAddNewVersion","showLocking","wrap","InputLabel","renderValue","_tag","rootTag","tag","documentVersion","metaFile","onTagSave","setVersions","setTags","setPreview","setVersionsLoading","handlePreview","_domain","t","newTags","VersionDialog","onFileChange","onVersionChange","VersionDialogContainer","versionRecord","setRecord","r","handleFileChange","tagName","noChildElement","tagTitle","TagsFilterTree","selectedTags","onChecked","handleCheck","hasChildren","collapseHandle","collapseContainer","SideTreeView","hasData","collapse","setCollapse","c","ExpandLess","ExpandMore","Collapse","in","getApp","getAppProject","appId","appProject","defaultIncrement","_document","save","context","_model","fileId","permissionList","removeList","valid","perm","p","promises","removeAll","all","permissionView","models","defaultPermission","onNew","onFetch","permission","permissionRow","Add","closeIcon","addIcon","PermissionDialogContainer","PermissionDialog","setPermissionList","removed","setRemoved","getPermission","managePermission","handleRemove","handleNew","handleFetch","targetField","services","animationDuration","Loader","CircularProgress","thickness","disableShrink","sideColumn","contentColumn","dmsContentContainer","dmsGridContainer","dmsSideTreeView","fileInput","Dms","treeData","uploadFiles","versionDialog","handleViewModeChange","handleFilterChange","handleFilterSave","handleFilterRemove","handleNext","handlePrev","handleFavouriteSearch","handleOpenUpload","handleExport","handleExportAll","handleFolderDoubleClick","handleFolderCreate","handleFilterTagCheck","handleSelect","handleSortingField","handleDocumentDelete","handleDocumentClose","handleDownload","handleDocumentLock","handleDocumentUnlock","showPermission","handlePermissionClose","handlePermissionOpen","handleSavePermission","handleMetaFileDownload","handleFavouriteDocument","handleVersionDialog","handleSendMail","handleTagSave","handleVersionRestore","handleVersionUpdate","handleFileSelect","handleNewVersion","handleCloseVersionDialog","handleFileRef","multiple","dmsId","DmsContainer","userInfo","setCurrentFolder","setPagination","setTreeData","setData","setDroppedFiles","setUploadFiles","uploading","setUploading","setViewMode","setSelectedFiles","setDocument","setSortingField","setVersionDialog","setDefaultIncrement","setProjectList","setSelectedProject","projectRoot","setProjectRoot","setBreadcrumb","setShowPermission","setVersionRecord","setFilters","setSearchFilter","setFavouriteSearch","contentSearch","setContentSearch","setCustomFields","setTagList","setSelectedTags","uploadFilesRef","getUserId","resetPagination","getVisibleInGrid","visibleInGrid","handleSetTreeData","_data","_d","getRelatedInfo","sortBy","_pagination","export","fetchProjects","getProjects","fetchCustomFields","fetchOrCreateProjectRoot","fetchOrCreateProjectDirectory","object","createDMSVersion","documentId","handleDocumentCreate","updateProgress","end","uploadChunk","fileItem","fileObj","slice","min","_fileId","doFileUpload","_files","fileList","prototype","call","mode","multiSelection","prevSelectedFiles","updateDocument","openDocument","lockDocument","unlockDocument","sendMail","s","reverse","getBreadcrumb","saveFilter","fetchFilters","getFilters","removeFilter","sort","order","b","hasOwnProperty","varA","toUpperCase","varB","comparison","sortValues","metaFileDownload","unique","removeIds","searchIds","_versionData","removedVersion","removedFiles","ids","newOffset","permissions","l","getCustomFilterFields","getDefaultIncrement","di","Container","DndProvider","backend","HTML5Backend","App","getThemeOptions","setUserInfo","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 119;","import React, { useEffect } from 'react';\nimport {\n  ThemeProvider,\n  StylesProvider,\n  createGenerateClassName,\n} from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/indigo';\nimport pink from '@material-ui/core/colors/pink';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nlet originalDir;\n\n// Create theme with the given options.\nconst createTheme = ({ direction = 'ltr', palette }) => {\n  if (originalDir === undefined) {\n    originalDir = document.body.dir || document.dir;\n  }\n  direction = direction || originalDir;\n  return createMuiTheme({\n    direction,\n    layout: {\n      cols: 12,\n    },\n    header: {\n      height: 64,\n    },\n    palette: {\n      primary: blue,\n      secondary: pink,\n      ...palette,\n    },\n    typography: {\n      useNextVariants: true,\n    },\n  });\n};\n\nconst generateClassName = createGenerateClassName({\n  dangerouslyUseGlobalCSS: false,\n  productionPrefix: 'c',\n});\n\nexport function WithTheme({ direction, palette, children }) {\n  useEffect(() => {\n    direction\n      ? (document.body.dir = direction)\n      : document.body.removeAttribute('dir');\n  });\n  const theme = createTheme({ direction, palette });\n  return (\n    <StylesProvider generateClassName={generateClassName}>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        {children}\n      </ThemeProvider>\n    </StylesProvider>\n  );\n}\n\nfunction withRoot(Component, { direction = 'ltr', palette } = {}) {\n  function WithRoot(props) {\n    return (\n      <WithTheme direction={direction} palette={palette}>\n        <Component {...props} />\n      </WithTheme>\n    );\n  }\n  return WithRoot;\n}\n\nexport default withRoot;\n","export const FILE_UPLOAD_STATUS = {\n  PENDING: 'PENDING',\n  COMPLETED: 'COMPLETED',\n  CANCEL: 'CANCEL',\n};\n\nexport function sortValues(key, order = 'asc') {\n  return function innerSort(a, b) {\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      // property doesn't exist on either object\n      return 0;\n    }\n\n    const varA =\n      typeof a[key] === 'string' ? a[key].toUpperCase() : a[key] || '';\n    const varB =\n      typeof b[key] === 'string' ? b[key].toUpperCase() : b[key] || '';\n\n    let comparison = 0;\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n    return order === 'desc' ? comparison * -1 : comparison;\n  };\n}\n\nexport function getOrder(name) {\n  return name.indexOf('-') === 0 ? 'desc' : 'asc';\n}\n\nexport function getOrderField(name) {\n  return name.indexOf('-') === 0 ? name.substring(1) : name;\n}\n\nexport function getBreadcrumb(record, data) {\n  const list = [];\n  let crumb = record;\n  do {\n    list.push({ ...crumb });\n    // eslint-disable-next-line no-loop-func\n    crumb = data.find((d) => d.id === crumb['parent.id']);\n  } while (crumb);\n\n  return list.reverse();\n}\n\nexport function translate(str) {\n  if (window._t && typeof str === 'string') {\n    return window._t(str);\n  }\n  return str;\n}\n","import { translate } from './utils';\n\nexport const filterFields = [\n  { name: 'fileName', title: 'File Name', type: 'STRING' },\n  { name: 'content', title: 'Content', type: 'STRING' },\n  { name: 'contentType', title: 'Content type', type: 'STRING' },\n  { name: 'createdOn', title: 'Created on', type: 'DATETIME' },\n  {\n    name: 'createdBy',\n    title: 'Created by',\n    type: 'MANY_TO_ONE',\n    target: 'com.axelor.auth.db.User',\n    targetName: 'fullName',\n  },\n  { name: 'importId', title: 'Import ID', type: 'STRING' },\n  { name: 'isDirectory', title: 'Is directory', type: 'BOOLEAN' },\n  { name: 'updatedOn', title: 'Updated on', type: 'DATETIME' },\n  {\n    name: 'updatedBy',\n    title: 'Updated by',\n    type: 'MANY_TO_ONE',\n    target: 'com.axelor.auth.db.User',\n    targetName: 'fullName',\n  },\n  {\n    name: 'tag',\n    title: 'Tag',\n    type: 'MANY_TO_MANY',\n    target: 'com.axelor.dms.db.DMSFileTag',\n    targetName: 'name',\n  },\n  { name: 'importOrigin', title: 'Imported from', type: 'STRING' },\n];\n\nexport const TREE_VIEW_WIDTH = 300;\n\nexport const permissionValues = [\n  { title: translate('Can read'), id: 'READ' },\n  { title: translate('Can write'), id: 'WRITE' },\n  { title: translate('Can share'), id: 'FULL' },\n];\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction ContextMenu(props) {\n  const { item, menuOptions } = props;\n  const [position, setPosition] = React.useState();\n  const handleContextMenu = React.useCallback(\n    (e) => {\n      if (menuOptions.length === 0) {\n        return;\n      }\n      e.preventDefault();\n      setPosition({ mouseX: e.clientX - 2, mouseY: e.clientY - 4 });\n    },\n    [menuOptions]\n  );\n\n  const handleClose = React.useCallback(() => {\n    setPosition();\n  }, []);\n\n  const handleMenuItemClick = React.useCallback(\n    (e, menu) => {\n      e.stopPropagation();\n      handleClose();\n      menu.method(item);\n    },\n    [handleClose, item]\n  );\n\n  return (\n    <div onContextMenu={handleContextMenu}>\n      {props.children}\n      <Menu\n        keepMounted\n        open={Boolean(position)}\n        onClose={handleClose}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          position ? { top: position.mouseY, left: position.mouseX } : undefined\n        }\n      >\n        {menuOptions.map((menu, i) => (\n          <MenuItem key={i} onClick={(e) => handleMenuItemClick(e, menu)}>\n            {menu.title}\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n}\n\nexport default ContextMenu;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { Button } from '@material-ui/core';\nimport Input from '@material-ui/core/Input';\nimport { translate } from '../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  input: {\n    marginBottom: 25,\n  },\n}));\n\nfunction NewFolderDialog(props) {\n  const { onClose, open, onSave } = props;\n  const [name, setName] = React.useState('');\n  const classes = useStyles();\n\n  const handleChange = React.useCallback((e) => {\n    setName(e.target.value);\n  }, []);\n\n  const handleClose = React.useCallback(\n    (e) => {\n      setName('');\n      onClose();\n    },\n    [onClose]\n  );\n\n  const handleSave = React.useCallback(\n    (e) => {\n      if (name !== '') {\n        onSave(name);\n        setName('');\n      } else {\n        alert(translate('Folder name is required'));\n      }\n    },\n    [name, onSave]\n  );\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      fullWidth={true}\n    >\n      <DialogTitle>{translate('New folder')}</DialogTitle>\n      <DialogContent className={classes.form}>\n        <Input\n          className={classes.input}\n          name=\"name\"\n          value={name}\n          onChange={handleChange}\n          placeholder={translate('Folder name')}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleSave} variant=\"contained\" color=\"primary\">\n          {translate('Save')}\n        </Button>\n        <Button onClick={handleClose} variant=\"outlined\">\n          {translate('Cancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default NewFolderDialog;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport Folder from '@material-ui/icons/Folder';\nimport classNames from 'classnames';\nimport ContextMenu from './ContextMenu';\nimport NewFolderDialog from './NewFolderDialog';\n\nimport { TREE_VIEW_WIDTH } from '../constant';\n\nconst useStyles = makeStyles((theme) => ({\n  dmsTreeContainer: {\n    width: TREE_VIEW_WIDTH,\n    paddingRight: 10,\n    maxHeight: '60%',\n    marginBottom: 15,\n    overflow: 'auto',\n  },\n  treeElement: {\n    padding: 5,\n    display: 'flex',\n  },\n  treeElementContainer: {\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n    },\n  },\n  selected: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n  },\n  expandIcon: {\n    marginTop: -3,\n    cursor: 'pointer',\n  },\n  folderIcon: {\n    fontSize: '1.3rem',\n    marginRight: 5,\n  },\n  noChildren: {\n    paddingLeft: 24,\n  },\n}));\n\nfunction getChildren(data, parentId, field) {\n  const list = data.filter((d) => d[field] === parentId);\n  return list;\n}\n\nfunction Expander(props) {\n  const classes = useStyles();\n  const Icon = props.isCollapse === false ? ArrowDropDown : ArrowRightIcon;\n  return <Icon className={classes.expandIcon} onClick={props.onClick} />;\n}\n\nfunction DmsTree({ data, currentFolder, handleFolder, onFolderCreate }) {\n  const classes = useStyles();\n  const [expandList, setExpandList] = useState([]);\n  const parentFieldName = 'parent.id';\n  const [item, setItem] = React.useState();\n  const toggleExpand = React.useCallback((e, item) => {\n    const { id } = item;\n    e && e.stopPropagation();\n    let flag = true;\n    if (!id) {\n      return;\n    }\n    setExpandList((list) => {\n      const ind = list.indexOf(id);\n      if (flag) {\n        flag = false;\n        if (ind > -1) {\n          list.splice(ind, 1);\n        } else {\n          list.push(id);\n        }\n      }\n      return [...list];\n    });\n  }, []);\n\n  const handleFolderClick = React.useCallback(\n    (e, item) => {\n      handleFolder(item);\n    },\n    [handleFolder]\n  );\n\n  const handleCreateDocument = React.useCallback(\n    (name) => {\n      const document = {\n        fileName: name,\n        isDirectory: true,\n        relatedId: item.relatedId,\n        relatedModel: item.relatedModel,\n        parent: { id: item.id },\n        favouriteUserSet: [],\n      };\n      onFolderCreate(document);\n      setItem();\n    },\n    [onFolderCreate, item]\n  );\n\n  const handleCreateDialog = React.useCallback((item) => {\n    setItem(item);\n  }, []);\n\n  const handleCloseCreateDialog = React.useCallback(() => {\n    setItem();\n  }, []);\n\n  const menuOptions = [{ title: 'New Folder', method: handleCreateDialog }];\n\n  function renderTreeElement(childrenList, level) {\n    return childrenList.map((item, i) => {\n      const childrens = getChildren(data, item.id, parentFieldName);\n      const isCollapse = !expandList.includes(item.id);\n      return (\n        <React.Fragment key={i}>\n          <ContextMenu menuOptions={menuOptions} item={item}>\n            <div\n              className={classNames(\n                classes.treeElementContainer,\n                item.id === currentFolder && classes.selected\n              )}\n              onClick={(e) => handleFolderClick(e, item)}\n            >\n              <div\n                className={classNames(classes.treeElement, {\n                  [classes.noChildren]: childrens.length === 0,\n                })}\n                style={{ marginLeft: level * 15 }}\n              >\n                {childrens.length > 0 && (\n                  <Expander\n                    onClick={(e) => toggleExpand(e, item)}\n                    isCollapse={isCollapse}\n                  />\n                )}\n                <Folder className={classes.folderIcon} />\n                <span>{item.fileName}</span>\n              </div>\n            </div>\n            {!isCollapse && renderTreeElement(childrens, level + 1)}\n          </ContextMenu>\n        </React.Fragment>\n      );\n    });\n  }\n\n  useEffect(() => {\n    toggleExpand(null, { id: currentFolder });\n  }, [currentFolder, toggleExpand]);\n\n  const home = data && data[0];\n  return (\n    <div className={classes.dmsTreeContainer}>\n      {home && renderTreeElement([home], 1)}\n      <NewFolderDialog\n        onClose={handleCloseCreateDialog}\n        open={Boolean(item)}\n        onSave={handleCreateDocument}\n      />\n    </div>\n  );\n}\n\nexport default DmsTree;\n","import React, { useCallback } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport classNames from 'classnames';\nimport moment from 'moment';\n\nimport { getOrderField, getOrder, translate } from './../../utils';\nimport ContextMenu from './../ContextMenu';\n\nconst useStyles = makeStyles((theme) => ({\n  noDocumentsFound: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n  },\n  listHeaderContainer: {\n    padding: 10,\n    display: 'flex',\n  },\n  listContentContainer: {\n    overflow: 'auto',\n    height: 'calc(100% - 120px)',\n  },\n  listHeaderCell: {\n    padding: 5,\n    display: 'flex',\n  },\n  sortIcon: {\n    width: '0.90em',\n    height: '0.90em',\n    marginTop: 2,\n    marginLeft: 5,\n  },\n  recordLine: {\n    display: 'flex',\n    padding: 10,\n    borderBottom: '1px solid rgb(224,224,224)',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n    },\n  },\n  selectedRecordLine: {\n    backgroundColor: 'rgba(0, 0, 0, 0.2) !important',\n  },\n  ellipseTypo: {\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n  },\n  ellipse: {\n    whiteSpace: 'nowrap',\n  },\n  columnTitle: {\n    textTransform: 'capitalize',\n  },\n}));\n\nconst columns = [\n  {\n    name: 'typeIcon',\n    title: '',\n    width: '34px',\n  },\n  {\n    name: 'fileName',\n    title: 'File Name',\n    width: '50%',\n    canSort: true,\n  },\n  {\n    name: 'updatedOn',\n    title: 'Updated On',\n    width: '15%',\n    canSort: true,\n  },\n  {\n    name: 'updatedBy',\n    title: 'Updated By',\n    width: '15%',\n    canSort: true,\n  },\n  {\n    name: 'metaFile.sizeText',\n    title: 'File Size',\n    width: '15%',\n    canSort: true,\n  },\n];\n\nconst getAllowedOptions = (options, record) => {\n  if (!record.canWrite) {\n    const index = options.findIndex((o) => o.title === translate('Delete'));\n    options.splice(index, 1);\n  }\n\n  return options;\n};\n\nconst getValue = (val) => (val && typeof val === 'object' ? val.fullName : val);\n\nconst ListView = ({\n  selectedFiles,\n  onSorting,\n  sortingField = '',\n  menuOptions,\n  fields,\n  data,\n  onClick,\n}) => {\n  const classes = useStyles();\n\n  const isSelected = (record) =>\n    selectedFiles.findIndex((f) => f.id === record.id) !== -1;\n\n  const columnFields = [...columns, ...fields];\n\n  const handleSort = useCallback(\n    (column) => {\n      const index = sortingField.indexOf(column.name);\n\n      if (index === 0) {\n        onSorting(`-${column.name}`);\n      } else {\n        onSorting(column.name);\n      }\n    },\n    [sortingField, onSorting]\n  );\n\n  return (\n    <div className={classes.listContainer}>\n      {!data || data.length === 0 ? (\n        <div className={classes.noDocumentsFound}>\n          {translate('No documents found.')}\n        </div>\n      ) : (\n        <>\n          <div className={classes.listHeaderContainer}>\n            {columnFields.map((column, i) => (\n              <div\n                key={i}\n                className={classes.listHeaderCell}\n                style={{ width: column.width }}\n                onClick={() => column.canSort && handleSort(column)}\n              >\n                <Typography noWrap className={classes.columnTitle}>\n                  {column.title}\n                </Typography>\n                {getOrderField(sortingField) === column.name && (\n                  <>\n                    {getOrder(sortingField) === 'desc' ? (\n                      <ArrowDownwardIcon className={classes.sortIcon} />\n                    ) : (\n                      <ArrowUpwardIcon className={classes.sortIcon} />\n                    )}\n                  </>\n                )}\n              </div>\n            ))}\n          </div>\n\n          <div className={classes.listContentContainer}>\n            {data.map((record) => (\n              <ContextMenu\n                key={record.id}\n                menuOptions={getAllowedOptions(menuOptions, record)}\n                item={record}\n              >\n                <div\n                  className={classNames(\n                    classes.recordLine,\n                    isSelected(record) && classes.selectedRecordLine\n                  )}\n                  onClick={(e) => onClick(e, record)}\n                >\n                  {columnFields.map((column, i) => (\n                    <div\n                      key={i}\n                      className={classNames(\n                        classes.listHeaderCell,\n                        classes.ellipse\n                      )}\n                      style={{ width: column.width }}\n                    >\n                      {column.name === 'typeIcon' ? (\n                        <i\n                          className={record[column.name]}\n                          style={{ alignSelf: 'center' }}\n                        />\n                      ) : (\n                        <Typography noWrap className={classes.ellipseTypo}>\n                          {column.name === 'updatedOn'\n                            ? moment(record.updatedOn).format('L LT')\n                            : getValue(record[column.name])}\n                        </Typography>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </ContextMenu>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ListView;\n","import React from 'react';\nimport moment from 'moment';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport StarBorderOutlined from '@material-ui/icons/StarBorderOutlined';\nimport StarIcon from '@material-ui/icons/Star';\nimport classNames from 'classnames';\nimport { translate } from './../../utils';\nimport { getDocumentURL } from '../../DmsContainer';\nimport ContextMenu from './../ContextMenu';\nimport { amber } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n  noDocumentsFound: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n  },\n  listHeaderContainer: {\n    padding: 10,\n    display: 'flex',\n  },\n  listContentContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    height: 'calc(100% - 75px)',\n    overflow: 'auto',\n    alignContent: 'baseline',\n    [theme.breakpoints.only('xs')]: {\n      justifyContent: 'center', // Making center on mobile view\n    },\n  },\n  listHeaderCell: {\n    padding: 5,\n  },\n  recordLine: {\n    display: 'flex',\n    padding: 10,\n    border: '1px solid rgb(224,224,224)',\n    margin: '10px 0 0 10px',\n    borderRadius: 2,\n    width: 350,\n    height: 75,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n    },\n  },\n  selectedRecordLine: {\n    backgroundColor: 'rgba(0, 0, 0, 0.2) !important',\n  },\n  ellipseTypo: {\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n  },\n  ellipse: {\n    whiteSpace: 'nowrap',\n  },\n  imageIconView: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 50,\n    height: '100%',\n    alignSelf: 'center',\n  },\n  fileName: {\n    fontSize: '12px !important',\n    fontWeight: 'bold !important',\n  },\n  updatedText: {\n    fontSize: '12px !important',\n  },\n  infoContainer: {\n    display: 'flex',\n    maxWidth: 'calc(100% - 50px - 8px)',\n    marginLeft: 8,\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    flex: 1,\n  },\n  infoRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  actionView: {\n    height: 20,\n  },\n  actionIcon: {\n    width: 20,\n    height: 20,\n    cursor: 'pointer',\n  },\n  selectedStar: {\n    color: amber[500],\n  },\n  thumbnailImage: {\n    maxWidth: '100%',\n    maxHeight: '100%',\n  },\n  thumbnailTypeIcon: {\n    fontSize: 50,\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nconst Thumbnail = ({ item }) => {\n  const classes = useStyles();\n\n  if (!item.id) {\n    return null;\n  }\n\n  if (item.fileType && item.fileType.indexOf('image') !== -1) {\n    return (\n      <img\n        src={getDocumentURL(item.id)}\n        alt={translate('Thumbnail')}\n        className={classes.thumbnailImage}\n      />\n    );\n  }\n\n  return <i className={classNames(item.typeIcon, classes.thumbnailTypeIcon)} />;\n};\n\nconst isFavourite = (record, userId) =>\n  record.favouriteUserSet.findIndex((f) => f.id === userId) !== -1;\n\nconst CardView = ({\n  menuOptions,\n  userId,\n  selectedFiles,\n  onClick,\n  data,\n  handleFavourite,\n}) => {\n  const classes = useStyles();\n\n  const isSelected = (record) =>\n    selectedFiles.findIndex((f) => f.id === record.id) !== -1;\n\n  const handleStarClick = (e, record) => {\n    e.stopPropagation();\n    handleFavourite(record);\n  };\n\n  return (\n    <div className={classes.listContainer}>\n      {!data || data.length === 0 ? (\n        <div className={classes.noDocumentsFound}>\n          {translate('No documents found.')}\n        </div>\n      ) : (\n        <div className={classes.listContentContainer}>\n          {data.map((record) => (\n            <ContextMenu\n              key={record.id}\n              menuOptions={menuOptions}\n              item={record}\n            >\n              <div\n                className={classNames(\n                  classes.recordLine,\n                  isSelected(record) && classes.selectedRecordLine\n                )}\n                onClick={(e) => onClick(e, record)}\n              >\n                <div className={classes.imageIconView}>\n                  <Thumbnail item={record} />\n                </div>\n\n                <div className={classes.infoContainer}>\n                  <div className={classNames(classes.ellipse)}>\n                    <Typography\n                      className={classNames(\n                        classes.ellipseTypo,\n                        classes.fileName\n                      )}\n                    >\n                      {record.fileName}\n                    </Typography>\n                  </div>\n\n                  <div className={classNames(classes.ellipse, classes.infoRow)}>\n                    <Typography\n                      className={classNames(\n                        classes.ellipseTypo,\n                        classes.updatedText\n                      )}\n                    >\n                      {moment(record.updatedOn).format('L LT')}\n                    </Typography>\n\n                    <div\n                      className={classNames(classes.actionView)}\n                      onClick={(e) => handleStarClick(e, record)}\n                    >\n                      {isFavourite(record, userId) ? (\n                        <StarIcon\n                          className={classNames(\n                            classes.actionIcon,\n                            classes.selectedStar\n                          )}\n                        />\n                      ) : (\n                        <StarBorderOutlined className={classes.actionIcon} />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </ContextMenu>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CardView;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { Button, Typography } from '@material-ui/core';\nimport { translate } from '../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  input: {\n    marginBottom: 25,\n  },\n}));\n\nfunction NewFolderDialog(props) {\n  const { onClose, open, onConfirm } = props;\n  const classes = useStyles();\n\n  const handleClose = React.useCallback(\n    (e) => {\n      onClose();\n    },\n    [onClose]\n  );\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      fullWidth={true}\n    >\n      <DialogTitle>{translate('Question')}</DialogTitle>\n      <DialogContent className={classes.form}>\n        <Typography>{translate('Are you sure you want to delete')}?</Typography>\n        <Typography>\n          {translate('All old versions will also removed.')}\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onConfirm} variant=\"contained\" color=\"primary\">\n          {translate('Delete')}\n        </Button>\n        <Button onClick={handleClose} variant=\"outlined\">\n          {translate('Cancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default NewFolderDialog;\n","import React from 'react';\nimport { Breadcrumbs, Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { useDrop } from 'react-dnd';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport HomeIcon from '@material-ui/icons/Home';\nimport classNames from 'classnames';\n\nimport ListView from './ListView';\nimport CardView from './CardView';\nimport ConfirmationDialog from './../ConfirmationDialog';\nimport { translate } from '../../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  gridViewWrapper: {\n    width: '100%',\n    position: 'relative',\n    height: '100%',\n  },\n  dropOverlayContainer: {\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.2)',\n    width: '100%',\n    top: 0,\n    left: 0,\n    height: '100%',\n  },\n  homeCrumb: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  homeIcon: {\n    marginRight: 5,\n    color: '#0088cc',\n  },\n  crumbTypo: {\n    lineHeight: 2,\n    color: '#0088cc',\n    cursor: 'pointer',\n    borderBottom: '1px solid transparent',\n    '&:hover': {\n      borderBottom: '1px solid #0088cc',\n    },\n  },\n  lastCrumbTypo: {\n    cursor: 'auto',\n    borderBottom: 'none',\n    '&:hover': {\n      borderBottom: 'none',\n    },\n  },\n  breadcrumb: {\n    padding: 20,\n    '& > ol': {\n      flexWrap: 'noWrap',\n      whiteSpace: 'noWrap',\n      overflow: 'auto',\n    },\n  },\n}));\n\nfunction DropOverlay() {\n  const classes = useStyles();\n\n  return <div className={classes.dropOverlayContainer}></div>;\n}\n\nfunction GridView(props) {\n  const classes = useStyles();\n  const ref = React.useRef(null);\n  const {\n    viewMode,\n    onSelect,\n    onFolderDoubleClick,\n    selectedFiles,\n    sortingField,\n    onDelete,\n    breadcrumb,\n    userId,\n    onFavouriteDocument,\n    customFields,\n  } = props;\n  const [clicks, setClicks] = React.useState(0);\n  const [clickEvent, setClickEvent] = React.useState();\n\n  const [item, setItem] = React.useState();\n\n  const handleDoubleClick = React.useCallback(() => {\n    const { record } = clickEvent;\n    if (record.isDirectory) {\n      onFolderDoubleClick(record);\n    }\n  }, [onFolderDoubleClick, clickEvent]);\n\n  const handleDocumentClick = React.useCallback(() => {\n    const { e, record } = clickEvent;\n\n    onSelect(record, e.ctrlKey);\n  }, [onSelect, clickEvent]);\n\n  const handleClick = React.useCallback((e, record) => {\n    setClicks((clicks) => clicks + 1);\n    setClickEvent({ e: { ...e }, record });\n  }, []);\n\n  React.useEffect(() => {\n    let singleClickTimer;\n    if (clicks === 1) {\n      singleClickTimer = setTimeout(function () {\n        handleDocumentClick();\n        setClicks(0);\n      }, 250);\n    } else if (clicks === 2) {\n      handleDoubleClick();\n      setClicks(0);\n    }\n    return () => clearTimeout(singleClickTimer);\n  }, [clicks, handleDoubleClick, handleDocumentClick]);\n\n  const handleDeleteDialog = React.useCallback((item) => {\n    setItem(item);\n  }, []);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete(item);\n    setItem();\n  }, [item, onDelete]);\n\n  const handleConfirmationClose = React.useCallback(() => {\n    setItem();\n  }, []);\n\n  const handleCrumbClick = React.useCallback(\n    (record) => {\n      onFolderDoubleClick(record);\n    },\n    [onFolderDoubleClick]\n  );\n\n  const renderCrumbTypo = React.useCallback(\n    (crumb, isLast) => (\n      <Typography\n        key={crumb.id}\n        className={classNames(classes.crumbTypo, {\n          [classes.lastCrumbTypo]: isLast,\n        })}\n        onClick={(e) => !isLast && handleCrumbClick(crumb)}\n      >\n        {crumb.fileName}\n      </Typography>\n    ),\n    [handleCrumbClick, classes]\n  );\n\n  const handleFavourite = React.useCallback(\n    (item) => {\n      onFavouriteDocument(item);\n    },\n    [onFavouriteDocument]\n  );\n\n  const getCustomFields = React.useCallback(() => {\n    return customFields.map((field) => {\n      return {\n        name: `${field.modelField}.${field.name}`,\n        minWidth: '15%',\n        title: field.name,\n        canSort: true,\n      };\n    });\n  }, [customFields]);\n\n  const [dropProps, drop] = useDrop({\n    accept: [NativeTypes.FILE],\n    drop: (_props, monitor) => {\n      props.handleFileUpload(monitor.getItem().files);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n  drop(ref);\n  const menuOptions = [\n    { title: translate('Delete'), method: handleDeleteDialog },\n    { title: translate('Favourite'), method: handleFavourite },\n  ];\n  return (\n    <div ref={ref} className={classes.gridViewWrapper}>\n      {dropProps.isOver && dropProps.canDrop && <DropOverlay />}\n      <Breadcrumbs\n        classes={{ root: classes.breadcrumb }}\n        aria-label=\"breadcrumb\"\n      >\n        {breadcrumb.map((crumb, i) =>\n          i === 0 ? (\n            <Grid key={crumb.id} className={classes.homeCrumb}>\n              <HomeIcon className={classes.homeIcon} />\n              {renderCrumbTypo(crumb, breadcrumb.length - 1 === i)}\n            </Grid>\n          ) : (\n            renderCrumbTypo(crumb, breadcrumb.length - 1 === i)\n          )\n        )}\n      </Breadcrumbs>\n      {viewMode === 'list' ? (\n        <ListView\n          menuOptions={menuOptions}\n          data={props.data}\n          onClick={handleClick}\n          selectedFiles={selectedFiles}\n          onSorting={props.onSorting}\n          sortingField={sortingField}\n          userId={userId}\n          fields={getCustomFields()}\n        />\n      ) : (\n        <CardView\n          menuOptions={menuOptions}\n          data={props.data}\n          onClick={handleClick}\n          selectedFiles={selectedFiles}\n          onSorting={props.onSorting}\n          sortingField={sortingField}\n          userId={userId}\n          handleFavourite={handleFavourite}\n        />\n      )}\n      <ConfirmationDialog\n        open={Boolean(item)}\n        onConfirm={handleDelete}\n        onClose={handleConfirmationClose}\n      />\n    </div>\n  );\n}\n\nexport default GridView;\n","import React from 'react';\nimport { Hidden } from '@material-ui/core';\n\nfunction ResponsiveView({\n  DesktopView,\n  MobileView,\n  viewProps,\n  desktopViewProps,\n  mobileViewProps,\n}) {\n  return (\n    <>\n      <Hidden only=\"xs\">\n        <DesktopView {...viewProps} {...desktopViewProps} />\n      </Hidden>\n      <Hidden smUp>\n        <MobileView {...viewProps} {...mobileViewProps} />\n      </Hidden>\n    </>\n  );\n}\n\nResponsiveView.defaultProps = {\n  DesktopView: () => {},\n  MobileView: () => {},\n  desktopViewProps: {},\n  mobileViewProps: {},\n  viewProps: {},\n};\n\nexport default ResponsiveView;\n","import React from 'react';\nimport Slide from '@material-ui/core/Slide';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"left\" ref={ref} {...props} />;\n});\n\nexport default Transition;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { Typography } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { FILE_UPLOAD_STATUS, translate } from './../utils';\nimport ResponsiveView from './ResponsiveView';\nimport SlideTransition from './SlideTransition';\n\nconst useStyles = makeStyles((theme) => ({\n  uploadViewContainer: {\n    position: 'absolute',\n    bottom: 20,\n    right: 20,\n    width: 600,\n    minHeight: 150,\n    maxHeight: 500,\n    zIndex: 9999,\n  },\n  uploadViewCard: {\n    width: '100%',\n    height: '100%',\n  },\n  uploadList: {\n    overflow: 'auto',\n    padding: 5,\n    maxHeight: 450,\n  },\n  fileInfoView: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    padding: '5px 0px',\n  },\n  progressView: {\n    width: 150,\n    height: 20,\n    margin: 5,\n  },\n  fileNameText: {\n    lineHeight: 2,\n  },\n  titleView: {\n    padding: 10,\n    borderBottom: '2px solid #ddd',\n  },\n  actionText: {\n    textTransform: 'capitalize !important',\n  },\n  actionButton: {\n    padding: '0px !important',\n  },\n}));\n\nfunction MobileView({ droppedFiles, cancelUpload, retryUpload }) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  React.useEffect(() => {\n    if (droppedFiles.length > 0) {\n      setOpen(true);\n    } else {\n      setOpen(false);\n    }\n  }, [droppedFiles]);\n\n  const handleClose = React.useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      fullScreen={true}\n      TransitionComponent={SlideTransition}\n    >\n      <DialogTitle>{translate('Upload completed')}</DialogTitle>\n      <DialogContent>\n        {droppedFiles.map((item, i) => (\n          <div key={i} className={classes.fileInfoView}>\n            <Typography className={classes.fileNameText} noWrap>\n              {item.file.name}\n            </Typography>\n            <LinearProgress\n              className={classes.progressView}\n              variant=\"determinate\"\n              value={item.progress}\n            />\n            <div className={classes.actionView}>\n              {item.status === FILE_UPLOAD_STATUS.PENDING && (\n                <Button\n                  className={classes.actionButton}\n                  variant=\"outlined\"\n                  onClick={() => cancelUpload(item.id)}\n                >\n                  <Typography className={classes.actionText}>\n                    {translate('Cancel')}\n                  </Typography>\n                </Button>\n              )}\n              {item.status === FILE_UPLOAD_STATUS.CANCEL && (\n                <Button\n                  className={classes.actionButton}\n                  variant=\"outlined\"\n                  onClick={() => retryUpload(item.id)}\n                >\n                  <Typography className={classes.actionText}>\n                    {translate('Retry')}\n                  </Typography>\n                </Button>\n              )}\n            </div>\n          </div>\n        ))}\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction DesktopView({ droppedFiles, cancelUpload, retryUpload }) {\n  const classes = useStyles();\n  return droppedFiles.length ? (\n    <div className={classes.uploadViewContainer}>\n      <Paper className={classes.uploadViewCard}>\n        <div className={classes.titleView}>\n          <Typography>{translate('Upload completed')}</Typography>\n        </div>\n        <div className={classes.uploadList}>\n          {droppedFiles.map((item, i) => (\n            <div key={i} className={classes.fileInfoView}>\n              <span className={classes.fileNameText}>{item.file.name}</span>\n              <LinearProgress\n                className={classes.progressView}\n                variant=\"determinate\"\n                value={item.progress}\n              />\n              <div className={classes.actionView}>\n                {item.status === FILE_UPLOAD_STATUS.PENDING && (\n                  <Button\n                    className={classes.actionButton}\n                    variant=\"outlined\"\n                    onClick={() => cancelUpload(item.id)}\n                  >\n                    <Typography className={classes.actionText}>\n                      {translate('Cancel')}\n                    </Typography>\n                  </Button>\n                )}\n                {item.status === FILE_UPLOAD_STATUS.CANCEL && (\n                  <Button\n                    className={classes.actionButton}\n                    variant=\"outlined\"\n                    onClick={() => retryUpload(item.id)}\n                  >\n                    <Typography className={classes.actionText}>\n                      {translate('Retry')}\n                    </Typography>\n                  </Button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </Paper>\n    </div>\n  ) : null;\n}\n\nfunction UploadView(props) {\n  return (\n    <ResponsiveView\n      DesktopView={DesktopView}\n      MobileView={MobileView}\n      viewProps={{ ...props }}\n    />\n  );\n}\n\nexport default UploadView;\n","import React from 'react';\nimport { List, Chip, IconButton } from '@material-ui/core';\nimport { Search, ArrowDropDown } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { translate } from '../../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    borderBottom: 'solid 1px rgba(0, 0, 0, 0.54)',\n    marginBottom: '7px',\n  },\n  chip: {\n    margin: '4px',\n    height: 30,\n  },\n  list: {\n    display: 'flex',\n    padding: '0 !important',\n  },\n  listItem: {\n    padding: '0 !important',\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  buttonContainer: {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    position: 'relative',\n    bottom: -3,\n  },\n  inputIconBtn: {\n    margin: 0,\n    padding: 0,\n    color: '#bbb',\n  },\n}));\n\nexport default function Input({\n  value,\n  onDelete,\n  filters,\n  handleClick,\n  ...rest\n}) {\n  const classes = useStyles();\n  let text = '';\n  if (value.length > 1) {\n    text = `Filters ${value.length}`;\n  } else if (value.length) {\n    const findFilter = filters.find((x) => x.id === value[0]);\n    if (findFilter) {\n      text = findFilter.title;\n    } else {\n      text = translate('Custom');\n    }\n  }\n  return (\n    <div className={classes.root}>\n      <List className={classes.list}>\n        <Chip\n          label={text}\n          onDelete={() => onDelete(value)}\n          className={classes.chip}\n        />\n      </List>\n      <div className={classes.buttonContainer}>\n        <IconButton\n          aria-label=\"open\"\n          onClick={handleClick}\n          className={classes.inputIconBtn}\n        >\n          <ArrowDropDown />\n        </IconButton>\n        <IconButton aria-label=\"refresh\" className={classes.inputIconBtn}>\n          <Search />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\n\nlibrary.add(fas, far, fab);\n\nexport default FontAwesomeIcon;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Chip, Link, useMediaQuery } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n  subtitle1: {\n    fontSize: 12,\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25),\n  },\n  link: {\n    cursor: 'pointer',\n  },\n  mobleString: {\n    alignItems: 'flex-start !important',\n    padding: 5,\n  },\n}));\n\nfunction RenderStringWidget({ title, value }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const desktopView = useMediaQuery(theme.breakpoints.up('sm'));\n\n  return (\n    <div\n      className={classNames(classes.container, {\n        [classes.mobleString]: !desktopView,\n      })}\n    >\n      <Typography variant=\"subtitle1\" className={classes.subtitle1}>\n        {title}\n      </Typography>\n      <Typography>{value}</Typography>\n    </div>\n  );\n}\n\nfunction RenderRelationalWidget({ title, value, optionLabelKey, viewRecord }) {\n  const classes = useStyles();\n  function renderLink(value) {\n    const link = value && value[optionLabelKey];\n    return (\n      link && (\n        <Link\n          className={classes.link}\n          onClick={() => viewRecord && viewRecord(value)}\n        >\n          {link}\n        </Link>\n      )\n    );\n  }\n  if (Array.isArray(value)) {\n    return (\n      <div>\n        <Typography variant=\"subtitle1\" className={classes.subtitle1}>\n          {title}\n        </Typography>\n        {value.map((v, index) => (\n          <Chip key={index} label={renderLink(v)} className={classes.chip} />\n        ))}\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Typography variant=\"subtitle1\" className={classes.subtitle1}>\n        {title}\n      </Typography>\n      {value && renderLink(value)}\n    </div>\n  );\n}\n\nexport default function StringWidget(item) {\n  const { title, value, customRender } = item;\n  if (typeof value === 'object' && !customRender) {\n    return <RenderRelationalWidget {...item} />;\n  }\n  return <RenderStringWidget title={title} value={value} />;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Input from '@material-ui/core/Input';\nimport { TextField } from '@material-ui/core';\nimport StringWidget from '../string';\n\nfunction InputField({\n  name,\n  title,\n  autoTitle,\n  value: $value = '',\n  onChange,\n  onBlur,\n  readOnly,\n  inline,\n  InputProps,\n  style,\n  isControlled = true,\n  ...other\n}) {\n  const [value, setValue] = React.useState($value);\n\n  function _onBlur(e) {\n    onChange(value);\n    onBlur && onBlur(e);\n  }\n\n  function handleChange(e) {\n    const { value } = e.target;\n    if (isControlled) {\n      setValue(value);\n    } else {\n      onChange(value);\n    }\n  }\n\n  React.useEffect(() => {\n    setValue($value);\n  }, [$value]);\n\n  if (inline) {\n    return readOnly ? (\n      <StringWidget value={value} />\n    ) : (\n      <Input\n        style={{ width: '100%', ...style }}\n        placeholder={title}\n        inputProps={{ 'aria-label': title }}\n        name={name}\n        onChange={handleChange}\n        onBlur={_onBlur}\n        autoComplete=\"off\"\n        readOnly={readOnly}\n        disabled={readOnly}\n        value={value || ''}\n        {...other}\n      />\n    );\n  }\n  return readOnly ? (\n    <StringWidget title={title} value={value} />\n  ) : (\n    <TextField\n      id={`filled-${name}`}\n      label={title || autoTitle}\n      name={name}\n      style={{ width: '100%', ...style }}\n      onChange={handleChange}\n      onBlur={_onBlur}\n      autoComplete=\"off\"\n      fullWidth\n      InputProps={{ readOnly, ...InputProps }}\n      value={value || ''}\n      className={other.className}\n      {...other}\n    />\n  );\n}\n\nInputField.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  readOnly: PropTypes.bool,\n  multiline: PropTypes.bool,\n  rows: PropTypes.number,\n};\n\nInputField.defaultProps = {\n  rows: 3,\n  readOnly: false,\n};\nexport default InputField;\n","import React from 'react';\nimport {\n  Link,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  Checkbox,\n  Button,\n} from '@material-ui/core';\nimport classnames from 'classnames';\n\nexport function ButtonLink({ title, className, onClick, ...rest }) {\n  return (\n    title && (\n      <Link\n        component=\"button\"\n        variant=\"body2\"\n        onClick={onClick}\n        className={className}\n        {...rest}\n      >\n        {title}\n      </Link>\n    )\n  );\n}\n\nexport function BooleanRadio({\n  name,\n  className,\n  onChange,\n  value,\n  classes,\n  data,\n}) {\n  return (\n    <RadioGroup\n      aria-label={name}\n      name={name}\n      className={className}\n      value={value}\n      onChange={(e) => onChange(e)}\n    >\n      {data.map(({ value, label }, index) => (\n        <FormControlLabel\n          key={index}\n          value={value}\n          control={<Radio />}\n          label={label}\n          classes={{ label: classes && classes.label }}\n        />\n      ))}\n    </RadioGroup>\n  );\n}\n\nexport function BooleanCheckBox({\n  name,\n  value,\n  onChange,\n  title,\n  inline = false,\n  isDisabled,\n  classes,\n  ...rest\n}) {\n  if (inline) {\n    return (\n      <Checkbox\n        checked={Boolean(value)}\n        onChange={({ target: { checked } }) => onChange(checked)}\n        value={name}\n        name={name}\n        disabled={isDisabled}\n        {...rest}\n      />\n    );\n  }\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={Boolean(value)}\n          onChange={({ target: { checked } }) => onChange({ name, checked })}\n          value={name}\n        />\n      }\n      label={title}\n      classes={{ label: classes && classes.label }}\n    />\n  );\n}\n\nexport function SimpleButton({\n  classes,\n  onClick,\n  title,\n  hide,\n  className,\n  ...rest\n}) {\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      className={classnames(classes.button, className)}\n      onClick={onClick}\n      {...rest}\n      style={hide ? { display: 'none' } : {}}\n    >\n      {title}\n    </Button>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  select: {\n    width: '150px',\n  },\n}));\n\nexport default function Selection({\n  name,\n  value = '',\n  onChange,\n  options,\n  ...rest\n}) {\n  const classes = useStyles();\n  return (\n    <Select\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      name={name}\n      style={{ marginRight: 8 }}\n      classes={{ select: classes.select }}\n      {...rest}\n    >\n      {options &&\n        options.map(({ name, title }, index) => (\n          <MenuItem value={name} key={index}>\n            {title}\n          </MenuItem>\n        ))}\n    </Select>\n  );\n}\n","import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  FormControl,\n  MenuItem,\n  Typography,\n  TextField,\n  Chip,\n} from '@material-ui/core';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/styles';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport FileIcon from '@material-ui/icons/Description';\nimport Select from 'react-select';\nimport classNames from 'classnames';\nimport { useDebounce } from './utils';\nimport StringWidget from './string';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    width: '100%',\n    position: 'relative',\n    '&.inline': {\n      marginTop: 3,\n    },\n    '.inline &': {\n      paddingBottom: 3,\n    },\n  },\n  inputRoot: {\n    '& > div': {\n      marginTop: '12px',\n    },\n  },\n  root: {\n    flexGrow: 1,\n  },\n  inputWrapper: {\n    '.inline & > *': {\n      paddingBottom: 3,\n    },\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n    textOverflow: 'ellipsis',\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    height: 36,\n    '.single': {\n      height: 36,\n    },\n    '.inline &': {\n      height: 26,\n    },\n  },\n  valueContainer: {\n    position: 'relative',\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n    '.single > &': {\n      flexWrap: 'nowrap',\n    },\n    '.inline &': {\n      flexWrap: 'nowrap',\n    },\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25),\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light'\n        ? theme.palette.grey[300]\n        : theme.palette.grey[700],\n      0.08\n    ),\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2),\n  },\n  singleValue: {\n    fontSize: 16,\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    bottom: 6,\n    fontSize: 16,\n    '.inline &': {\n      bottom: 1,\n    },\n  },\n  divider: {\n    height: theme.spacing(2),\n  },\n  viewIcon: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 70,\n    bottom: 8,\n    zIndex: 1,\n    cursor: 'pointer',\n    '& svg': {\n      fontSize: 20,\n      color: '#ddd',\n      '&:hover': {\n        color: '#555',\n      },\n    },\n  },\n}));\n\nexport function NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nNoOptionsMessage.propTypes = {\n  children: PropTypes.node,\n  innerProps: PropTypes.object,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\ninputComponent.propTypes = {\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n};\n\nfunction Control(props) {\n  const {\n    children,\n    innerProps,\n    innerRef,\n    selectProps: { classes, isMulti, TextFieldProps, InputProps },\n  } = props;\n  return (\n    <TextField\n      className={classes.inputWrapper}\n      fullWidth\n      classes={{\n        ...(TextFieldProps &&\n          TextFieldProps.label && { root: classes.inputRoot }),\n      }}\n      InputProps={{\n        ...InputProps,\n        inputComponent,\n        inputProps: {\n          className: classNames(classes.input, {\n            single: !isMulti,\n          }),\n          ref: innerRef,\n          children,\n          ...innerProps,\n        },\n      }}\n      {...TextFieldProps}\n    />\n  );\n}\n\nControl.propTypes = {\n  children: PropTypes.node,\n  innerProps: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  selectProps: PropTypes.object.isRequired,\n};\n\nexport function Option(props) {\n  return (\n    <MenuItem\n      ref={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n      className=\"menu-item\"\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nOption.propTypes = {\n  children: PropTypes.node,\n  innerProps: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isFocused: PropTypes.bool,\n  isSelected: PropTypes.bool,\n};\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nPlaceholder.propTypes = {\n  children: PropTypes.node,\n  innerProps: PropTypes.object,\n  selectProps: PropTypes.object.isRequired,\n};\n\nexport function SingleValue(props) {\n  return (\n    <Typography\n      className={props.selectProps.classes.singleValue}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nSingleValue.propTypes = {\n  children: PropTypes.node,\n  innerProps: PropTypes.object,\n  selectProps: PropTypes.object.isRequired,\n};\n\nfunction ValueContainer(props) {\n  return (\n    <div\n      className={classNames(\n        props.selectProps.classes.valueContainer,\n        props.selectProps.valueContainerClassName\n      )}\n    >\n      {props.children}\n    </div>\n  );\n}\n\nValueContainer.propTypes = {\n  children: PropTypes.node,\n  selectProps: PropTypes.object.isRequired,\n};\n\nexport function MultiValue(props) {\n  const chipProps = {};\n  if (!props.isDisabled) {\n    chipProps['onDelete'] = props.removeProps.onClick;\n  }\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={clsx(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n      {...chipProps}\n    />\n  );\n}\n\nMultiValue.propTypes = {\n  children: PropTypes.node,\n  isFocused: PropTypes.bool,\n  removeProps: PropTypes.object.isRequired,\n  selectProps: PropTypes.object.isRequired,\n};\n\nconst components = {\n  Control,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nfunction Selection(props) {\n  const classes = useStyles();\n  const [options, setOptions] = useState(props.options || []);\n  const [loading, setLoading] = useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(null);\n  const {\n    name,\n    title = '',\n    onChange,\n    value,\n    error,\n    readOnly = false,\n    isMulti = false,\n    isSearchable = false,\n    optionValueKey = 'id',\n    optionLabelKey = 'title',\n    fetchAPI,\n    beforeFetchAPI,\n    isPortal,\n    inline,\n    autoFocus,\n    onFocus: _onFocus,\n    InputProps,\n    formControlStyle,\n    clearIndicatorStyle,\n    onView,\n    ...other\n  } = props;\n\n  const findOption = React.useCallback(\n    (value) => {\n      return props.options.find((i) => i[optionValueKey] === value);\n    },\n    [props.options, optionValueKey]\n  );\n\n  React.useEffect(() => {\n    if (typeof value !== 'object') {\n      const selectedItem = value.split(',');\n      setSelectedValue(\n        selectedItem.length === 1\n          ? findOption(selectedItem[0].trim())\n          : selectedItem.map((i) => findOption(i.trim()))\n      );\n    } else {\n      setSelectedValue(value);\n    }\n  }, [value, findOption]);\n\n  async function fetch(value = '') {\n    setLoading(true);\n    if (beforeFetchAPI) {\n      await beforeFetchAPI();\n    }\n    if (fetchAPI) {\n      const data = await fetchAPI({ search: value });\n      setOptions(data);\n    } else {\n      setOptions(props.options);\n    }\n    setLoading(false);\n  }\n\n  function onFocus() {\n    _onFocus && _onFocus();\n    fetch();\n  }\n\n  const delayFetch = useDebounce(fetch, 400);\n\n  function onFilter(value, { action }) {\n    // fetch only for input change case\n    if (action !== 'input-change') return;\n    setLoading(true);\n    delayFetch(value);\n  }\n\n  function handleChange(item) {\n    if (typeof value !== 'object') {\n      isMulti\n        ? onChange(item.map((i) => i[optionValueKey]).join(','))\n        : onChange(item && item[optionValueKey]);\n    } else {\n      onChange(item);\n    }\n  }\n\n  function onViewClick(e) {\n    e.stopPropagation();\n    onView(value);\n  }\n\n  function getValueTitle(value) {\n    const option = options.find((x) => {\n      if (typeof value === 'object') {\n        return `${x[optionValueKey]}` === `${value[optionValueKey]}`;\n      }\n      return `${x[optionValueKey || 'value']}` === `${value}`;\n    });\n    return (\n      (option && option[optionLabelKey]) ||\n      (typeof value === 'object' && value ? value[optionLabelKey] : value)\n    );\n  }\n  return readOnly ? (\n    <StringWidget title={title} value={getValueTitle(value)} />\n  ) : (\n    <FormControl\n      className={classNames(classes.formControl, { inline })}\n      style={formControlStyle}\n    >\n      <Select\n        autoFocus={autoFocus}\n        name={name}\n        InputProps={InputProps}\n        TextFieldProps={{\n          ...(inline\n            ? {}\n            : { label: title, InputLabelProps: { shrink: true } }),\n          error,\n        }}\n        isLoading={loading}\n        onFocus={onFocus}\n        isClearable\n        options={loading ? [] : options}\n        onInputChange={onFilter}\n        onChange={handleChange}\n        value={selectedValue}\n        placeholder={isSearchable ? `Search ${title}` : `Select ${title}`}\n        classes={classes}\n        components={components}\n        isDisabled={readOnly}\n        isMulti={isMulti}\n        isSearchable={isSearchable}\n        getOptionLabel={(e) => e[optionLabelKey]}\n        getOptionValue={(e) => e[optionValueKey]}\n        blurInputOnSelect\n        menuPlacement=\"auto\"\n        styles={{\n          menuPortal: (styles) => ({ ...styles, zIndex: 1500 }),\n          container: (styles) => ({ width: '100%' }),\n          clearIndicator: (styles) => ({ ...styles, ...clearIndicatorStyle }),\n          menu: (styles) => ({ ...styles, marginTop: 0, borderRadius: 0 }),\n        }}\n        {...(other.options ? {} : { filterOption: () => true })}\n        {...(isPortal ? { menuPortalTarget: document.body } : {})}\n        {...other}\n      />\n      {value && onView && (\n        <div onClick={onViewClick} className={classes.viewIcon}>\n          <FileIcon />\n        </div>\n      )}\n    </FormControl>\n  );\n}\nSelection.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  onChange: PropTypes.func,\n  onView: PropTypes.func,\n  value: PropTypes.any,\n  readOnly: PropTypes.bool,\n  isMulti: PropTypes.bool,\n  isSearchable: PropTypes.bool,\n  isPortal: PropTypes.bool,\n  beforeFetchAPI: PropTypes.func,\n};\n\nSelection.defaultProps = {\n  isPortal: true,\n};\n\nexport default Selection;\n","import React from 'react';\n\nexport function useDebounce(cb, duration) {\n  const timer = React.useRef(null);\n\n  const clearTimer = () => timer.current && clearTimeout(timer.current);\n  const setTimer = (cb) => (timer.current = setTimeout(cb, duration));\n\n  React.useEffect(() => {\n    return () => clearTimer();\n  }, []);\n\n  return (...args) => {\n    clearTimer();\n    setTimer(() => cb(...args));\n  };\n}\n\nexport function useFocusRef({ autoFocus }) {\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    autoFocus === true && inputRef.current.focus();\n  }, [autoFocus, inputRef]);\n\n  return inputRef;\n}\n","import React, { useState } from 'react';\n\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport {\n  MuiPickersUtilsProvider,\n  TimePicker as Time,\n  DateTimePicker as DateTime,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport StringWidget from '../string';\n\nconst PICKERS = {\n  date: KeyboardDatePicker,\n  time: Time,\n  datetime: DateTime,\n};\n\nconst defaultFormat = {\n  date: 'DD/MM/YYYY',\n  time: 'LT',\n  datetime: 'DD/MM/YYYY h:mm a',\n};\n\nfunction DateTimePicker({ inline, type = 'date', ...props }) {\n  const [open, setOpen] = useState(false);\n  let valueRef = React.useRef();\n  const {\n    name,\n    title,\n    format,\n    readOnly = false,\n    error,\n    onChange,\n    ...other\n  } = props;\n\n  if (readOnly) {\n    const value = props.value\n      ? moment(props.value).format(format || defaultFormat[type])\n      : '';\n    return <StringWidget title={title} value={value} />;\n  }\n  const Picker = PICKERS[type];\n\n  function onKeyDown(e) {\n    if (e.keyCode === 40) setOpen(true);\n  }\n\n  function onClose() {\n    onChange(valueRef.current);\n    setOpen(false);\n  }\n\n  return (\n    <MuiPickersUtilsProvider utils={MomentUtils} moment={moment}>\n      <Picker\n        autoOk={true}\n        open={open}\n        onChange={(value) => {\n          valueRef.current = value;\n        }}\n        PopoverProps={{\n          anchorOrigin: { vertical: 'bottom', horizontal: 'left' },\n          transformOrigin: { vertical: 'top', horizontal: 'left' },\n        }}\n        disableToolbar\n        variant=\"inline\"\n        {...(inline ? { invalidDateMessage: '' } : {})}\n        style={{ width: '100%', ...(inline ? { margin: 0 } : {}) }}\n        label={inline ? '' : title}\n        format={format || defaultFormat[type]}\n        {...(type !== 'time' ? { animateYearScrolling: false } : {})}\n        {...other}\n        onKeyDown={onKeyDown}\n        onClose={onClose}\n        onOpen={() => setOpen(true)}\n      />\n    </MuiPickersUtilsProvider>\n  );\n}\n\nexport default DateTimePicker;\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { default as NumberFormat } from 'react-number-format';\nimport Input from './input';\nimport StringWidget from '../string';\n\nfunction NumberFormatCustom(props) {\n  const { inputRef, onChange, thousandSeparator = true, ...other } = props;\n  return (\n    <NumberFormat\n      getInputRef={inputRef}\n      thousandSeparator={thousandSeparator}\n      {...other}\n    />\n  );\n}\n\nfunction NumberField({\n  type = 'integer',\n  title,\n  onChange,\n  value = 0,\n  readOnly,\n  scale = 2,\n  customeFormat,\n  onBlur: blur,\n  ...other\n}) {\n  let [val, setVal] = useState(value);\n\n  const formatValue = useCallback(\n    (value) => Number(Number(value).toFixed(type === 'integer' ? 0 : scale)),\n    [type, scale]\n  );\n\n  React.useEffect(() => {\n    setVal(formatValue(value));\n  }, [value, setVal, formatValue]);\n\n  function onBlur(e) {\n    onChange(formatValue(val));\n    setVal(formatValue(val));\n    blur && blur(e);\n  }\n  return readOnly ? (\n    <StringWidget\n      title={title}\n      value={\n        <NumberFormatCustom\n          {...customeFormat}\n          value={value}\n          displayType={'text'}\n        />\n      }\n      customRender={true}\n    />\n  ) : (\n    <Input\n      onChange={setVal}\n      title={title}\n      type={'number'}\n      value={`${val}`}\n      onBlur={onBlur}\n      {...other}\n    />\n  );\n}\nNumberField.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  type: PropTypes.string,\n  onChange: PropTypes.func,\n  readOnly: PropTypes.bool,\n  scale: PropTypes.number,\n  customeFormat: PropTypes.object,\n};\n\nNumberField.defaultProps = {\n  readOnly: false,\n};\nexport default NumberField;\n","import axios from 'axios';\n\nlet lastCookieString;\nlet lastCookies = {};\n\nexport function readCookie(name) {\n  let cookieString = document.cookie || '';\n  if (cookieString !== lastCookieString) {\n    lastCookieString = cookieString;\n    lastCookies = cookieString.split('; ').reduce((obj, value) => {\n      let parts = value.split('=');\n      obj[parts[0]] = parts[1];\n      return obj;\n    }, {});\n  }\n  return lastCookies[name];\n}\n\nexport class AxelorRest {\n  constructor(http, entity) {\n    this.http = http;\n    this.entity = entity;\n  }\n\n  insert(data) {\n    return this.http.put('/ws/rest/' + this.entity, data);\n  }\n\n  update(data) {\n    return this.http.post('/ws/rest/' + this.entity, data);\n  }\n\n  delete(id) {\n    return this.http.delete('/ws/rest/' + this.entity + '/' + id);\n  }\n\n  deleteAll(records) {\n    return this.http.post(`/ws/rest/${this.entity}/removeAll`, {\n      records: records.map(({ id, version }) => ({ id, version })),\n    });\n  }\n\n  fetch(id, options) {\n    return this.http.post(\n      '/ws/rest/' + this.entity + '/' + id + '/fetch',\n      options\n    );\n  }\n\n  copy(id, options) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/copy',\n      options\n    );\n  }\n\n  details(id, fieldName) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/details?name=' + fieldName\n    );\n  }\n\n  search(options = {}) {\n    return this.http.post(\n      '/ws' + (this.entity ? `/rest/${this.entity}` : '') + '/search',\n      options\n    );\n  }\n}\n\nexport class Http {\n  constructor({ baseURL = '/' } = {}, interceptor = null) {\n    this.instance = axios.create({\n      baseURL,\n    });\n    this.interceptor = interceptor;\n  }\n\n  catchError(e) {\n    console.log('catch error', e);\n    if (this.callback) {\n      this.callback(e);\n    } else if (`${e}`.includes('401')) {\n      // window.location.reload();\n    }\n  }\n\n  request(url, data = {}, config = {}, overrideHeaders) {\n    const {\n      headers: $headers = {},\n      token = true,\n      withCredentials = true,\n    } = config;\n    const headers = {\n      ...(token ? { 'X-CSRF-Token': readCookie('CSRF-TOKEN') } : {}),\n      ...(overrideHeaders ||\n        Object.assign(\n          {},\n          {\n            accept: 'application/json',\n            'x-requested-with': 'XMLHttpRequest',\n          },\n          $headers,\n          Object.keys(data).length ? { 'content-type': 'application/json' } : {}\n        )),\n    };\n\n    const options = Object.assign(\n      {\n        url,\n        method: 'POST',\n        headers,\n        data:\n          headers['content-type'] === 'application/json'\n            ? JSON.stringify(data)\n            : data,\n        // timeout: 60000,\n      },\n      config,\n      { withCredentials }\n    );\n\n    if (\n      (options.method === 'GET' || options.method === 'HEAD') &&\n      options.data\n    ) {\n      delete options.data;\n    }\n\n    return this.instance(options);\n  }\n\n  intercept(url, method = 'GET', data = {}, headers) {\n    const config = {\n      method,\n      withCredentials: true,\n    };\n\n    const doRequest = () => this.request(url, data, config, headers);\n    const timeoutRequest = (delay = 100000) =>\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('Request failed Timeout'));\n        }, delay);\n      });\n\n    return Promise.race([\n      timeoutRequest(),\n      doRequest().then((res) => {\n        if (res.status === 401) {\n          return this.catchError({ logout: true });\n        }\n        return res.data;\n      }),\n    ]).catch(this.catchError.bind(this));\n  }\n\n  get(url, headers) {\n    return this.intercept(url, 'GET', {}, headers);\n  }\n\n  post(url, data, headers) {\n    return this.intercept(url, 'POST', data, headers);\n  }\n\n  put(url, data, headers) {\n    return this.intercept(url, 'PUT', data, headers);\n  }\n\n  delete(url, headers) {\n    return this.intercept(url, 'DELETE', {}, headers);\n  }\n\n  head(url, headers) {\n    return this.intercept(url, 'HEAD', {}, headers);\n  }\n\n  action(url, data) {\n    return this.intercept('/ws/action' + url, 'POST', data);\n  }\n\n  rest(entity) {\n    return new AxelorRest(this, entity);\n  }\n\n  login(data = {}) {\n    var config = Object.assign({}, this.config || {}, data);\n    return this.request(\n      '/callback',\n      {\n        username: config.username,\n        password: config.password,\n      },\n      { token: false }\n    )\n      .then((res) => {\n        var isAuth = null;\n        if (res === undefined) {\n          throw new Error('Failed To Connect !!');\n        }\n        if (res && res.status === 401) {\n          isAuth = false;\n        } else if (res && res.status === 200) {\n          isAuth = true;\n          this.config = config;\n          /*\n           Custom Cookie\n           res.headers['csrf-token'] &&\n             (document.cookie = `CSRF-TOKEN=${res.headers['csrf-token']}`);\n          */\n        }\n        return isAuth;\n      })\n      .catch(this.catchError.bind(this));\n  }\n\n  logout() {\n    return this.get('/logout');\n  }\n\n  info() {\n    return this.get('/ws/app/info');\n  }\n\n  checkInfo() {\n    return this.request('/ws/app/info', {}, { method: 'GET' })\n      .then((res) => res.data)\n      .then((res) => ({\n        appUser: res,\n        app: {\n          name: res['application.name'],\n          version: res['application.version'],\n          description: res['application.description'],\n        },\n        user: {\n          id: res['user.id'],\n          code: res['user.login'],\n          name: res['user.name'],\n          language: res['user.lang'] || 'en',\n          email: res['user.login'],\n          theme: res['user.theme'] || '',\n        },\n      }));\n  }\n\n  upload(data = null, headers = {}, callback = () => true, info = {}) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest(),\n        method = 'POST',\n        url = '/ws/files/upload';\n\n      const doClean = () =>\n        headers['X-File-Id']\n          ? this.intercept(() => this.delete(`${url}/${headers['X-File-Id']}`))\n          : Promise.resolve(true);\n\n      const formatSize = (done, total) => {\n        const format = (size) => {\n          if (size > 1000000000)\n            return parseFloat(size / 1000000000).toFixed(2) + ' GB';\n          if (size > 1000000)\n            return parseFloat(size / 1000000).toFixed(2) + ' MB';\n          if (size >= 1000) return parseFloat(size / 1000).toFixed(2) + ' KB';\n          return size + ' B';\n        };\n        return format(done || 0) + '/' + format(total);\n      };\n\n      xhr.open(method, url, true);\n\n      Object.keys(headers).forEach((k) => {\n        xhr.setRequestHeader(k, headers[k]);\n      });\n\n      xhr.withCredentials = true;\n      xhr.overrideMimeType('application/octet-stream');\n      xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      xhr.setRequestHeader('X-CSRF-Token', readCookie('CSRF-TOKEN'));\n\n      xhr.onload = () => {\n        callback(100);\n      };\n\n      info.abort = () => {\n        xhr.abort();\n        return doClean();\n      };\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          switch (xhr.status) {\n            case 401:\n              this.callbackInterceptor();\n              throw new Error('Unauthorized !!');\n            case 200:\n              try {\n                const result = JSON.parse(xhr.responseText);\n                resolve(result);\n              } catch (e) {\n                resolve(xhr.responseText);\n              }\n              break;\n            default:\n              doClean();\n              reject({ status: xhr.status });\n              break;\n          }\n        }\n      };\n\n      xhr.upload.onprogress = (e) => {\n        const fileSize = headers['X-File-Size'];\n        const total = parseFloat(headers['X-File-Offset']) + e.loaded;\n        const done = Math.round((total / fileSize) * 100);\n\n        info.progress = done > 95 ? '95%' : done + '%';\n        info.transfer = formatSize(total, fileSize);\n        info.loaded = total === fileSize;\n\n        if (e.lengthComputable) {\n          callback((e.loaded / e.total) * 100, info);\n        }\n      };\n\n      xhr.send(data);\n    });\n  }\n}\n\nexport default new Http({\n  baseURL: '/',\n});\n","import { translate } from '../../utils';\n\nexport const mapOperator = {\n  '=': 'eq',\n  '!=': 'ne',\n  '>': 'gt',\n  '>=': 'ge',\n  '<': 'lt',\n  '<=': 'le',\n  in: 'in',\n  notIn: 'notIn',\n  isNull: 'isNull',\n  notNull: 'notNull',\n  like: 'like',\n  notLike: 'notLike',\n  is: 'is',\n  between: 'between',\n  notBetween: 'notBetween',\n};\n\nexport let operators_by_type = {\n  enum: ['=', '!=', 'isNull', 'notNull'],\n  text: ['like', 'notLike', 'isNull', 'notNull'],\n  string: ['=', '!=', 'like', 'notLike', 'isNull', 'notNull'],\n  integer: [\n    '=',\n    '!=',\n    '>=',\n    '<=',\n    '>',\n    '<',\n    'between',\n    'notBetween',\n    'isNull',\n    'notNull',\n  ],\n  boolean: ['isTrue', 'isFalse'],\n};\n\nexport const operators = [\n  { name: '=', title: translate('equals') },\n  { name: '!=', title: translate('not equal') },\n  { name: '>', title: translate('greater than') },\n  { name: '>=', title: translate('greater or equal') },\n  { name: '<', title: translate('less than') },\n  { name: '<=', title: translate('less or equal') },\n  { name: 'in', title: translate('in') },\n  { name: 'between', title: translate('between') },\n  { name: 'notBetween', title: translate('not Between') },\n  { name: 'notIn', title: translate('not in') },\n  { name: 'isNull', title: translate('is null') },\n  { name: 'notNull', title: translate('is not null') },\n  { name: 'like', title: translate('contains') },\n  { name: 'notLike', title: translate(\"doesn't contain\") },\n  { name: 'isTrue', title: translate('true') },\n  { name: 'isFalse', title: translate('false') },\n];\n","import { AxelorRest, Http } from '../services/RestService';\n\nclass http extends Http {\n  download(file, getBlob = false) {\n    const url = `${this.instance.defaults.baseURL}ws/dms/download/${file.id}`;\n    return new Promise(function (resolve) {\n      var req = new XMLHttpRequest();\n      req.open('GET', url, true);\n      req.responseType = 'blob';\n      req.onload = function () {\n        var blob = req.response;\n        if (getBlob) {\n          resolve(blob);\n        } else {\n          var link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.download = file.isDirectory ? `${file.fileName}.zip` : file.fileName;\n          link.click();\n          resolve();\n        }\n      };\n\n      req.send();\n    });\n  }\n\n  metaFileDownload(file) {\n    const url = `${this.instance.defaults.baseURL}ws/rest/com.axelor.meta.db.MetaFile/${file.id}/content/download`;\n    var req = new XMLHttpRequest();\n    req.open('GET', url, true);\n    req.responseType = 'blob';\n    req.onload = function () {\n      var blob = req.response;\n      var link = document.createElement('a');\n      link.href = window.URL.createObjectURL(blob);\n      link.download = file.isDirectory ? `${file.fileName}.zip` : file.fileName;\n      link.click();\n    };\n    req.send();\n  }\n}\nexport const httpService = new http({ baseURL: process.env.NODE_ENV === 'production' ? '../' : '/axelor-erp' });\n\nclass AxelorService extends AxelorRest {\n  save(data) {\n    console.log(data);\n    if (data.id) {\n      return super.update({ data: { ...data } });\n    }\n    return super.insert({ data: { ...data } });\n  }\n  removeAll(records) {\n    return super.deleteAll(records);\n  }\n  action(url, data) {\n    return httpService.action(`/${url}`, { ...data, model: this.entity });\n  }\n  info() {\n    return httpService.info();\n  }\n}\n\nexport default function getRestClient(model) {\n  return new AxelorService(httpService, model);\n}\n\nexport const appService = getRestClient('com.axelor.apps.base.db.App');\n\nexport const appProjectService = getRestClient('com.axelor.apps.base.db.AppProject');\n\nexport const projectService = getRestClient('com.axelor.apps.project.db.Project');\n\nexport const dmsService = getRestClient('com.axelor.dms.db.DMSFile');\n\nexport const filterService = getRestClient('com.axelor.meta.db.MetaFilter');\n\nexport const permissionService = getRestClient('com.axelor.dms.db.DMSPermission');\n\nexport const customFieldService = getRestClient('com.axelor.meta.db.MetaJsonField');\n\nexport const dmsVersionService = getRestClient('com.axelor.apps.projectdms.db.DMSVersion');\n\nexport const tagsService = getRestClient('com.axelor.dms.db.DMSFileTag');\n","import getRestClient from '../../service';\n\nexport function searchRecordsByField(field, searchValue, options = {}) {\n  let columns = [{ name: field.targetName }];\n  if (field.targetSearch) {\n    columns = field.targetSearch.map((name) => ({ name }));\n  }\n  const service = getRestClient(field.target);\n  return service.search({\n    ...options,\n    limit: 10,\n    offset: 0,\n    fields: columns.map((x) => x.name),\n    data: searchValue\n      ? columns.reduce(\n          (data, field) => ({ ...data, [field.name]: searchValue }),\n          {\n            criteria: undefined,\n            operator: undefined,\n          }\n        )\n      : {},\n  });\n}\n","import React from 'react';\nimport {\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  makeStyles,\n} from '@material-ui/core';\nimport { Close } from '@material-ui/icons';\nimport moment from 'moment';\nimport classnames from 'classnames';\n\nimport produce from 'immer';\n\nimport {\n  ButtonLink,\n  BooleanRadio,\n  BooleanCheckBox,\n  SimpleButton,\n} from './common';\nimport Select from './select';\nimport TextField from '../form/input/input';\nimport Selection from '../form/selection';\nimport DateTimePicker from '../form/input/datetime-picker';\nimport NumberField from '../form/input/number';\nimport { operators_by_type, operators } from './constant';\nimport { searchRecordsByField } from './utils';\nimport { translate } from '../../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  group: {\n    margin: '0px 8px',\n    flexDirection: 'row',\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  label: {\n    fontSize: '0.875rem',\n  },\n  list: {\n    width: '100%',\n    padding: 0,\n  },\n  listItem: {\n    paddingLeft: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  link: {\n    margin: theme.spacing(1),\n  },\n  textField: {\n    margin: theme.spacing(1),\n    flexBasis: 200,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  criteriaValue: {\n    width: '250px !important',\n    alignItems: 'normal',\n  },\n  mobileViewCriteria: {\n    flexWrap: 'wrap',\n  },\n  mobileViewButtonLink: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nexport const defaultState = {\n  title: '',\n  operator: 'and',\n  isArchived: false,\n  isShare: false,\n  criteria: [{}],\n  selected: false,\n};\n\nconst addOperatorByType = (keys, value) => {\n  keys.map((key) => (operators_by_type[key] = value));\n};\n\naddOperatorByType(\n  ['long', 'decimal', 'date', 'time', 'datetime'],\n  operators_by_type.integer\n);\naddOperatorByType(['one_to_many'], operators_by_type.text);\naddOperatorByType(\n  ['one_to_one', 'many_to_one', 'many_to_many'],\n  ['like', 'notLike', 'in', 'notIn', 'isNull']\n);\n\nfunction renderSimpleWidget(\n  Component,\n  operator,\n  { onChange, value, value2, classes, style, ...rest }\n) {\n  if (['=', '!=', '>', '>=', '<', '<=', 'like', 'notLike'].includes(operator)) {\n    return (\n      <Component\n        name=\"value\"\n        className={classes.criteriaValue}\n        onChange={(value) => onChange({ name: 'value', value: value })}\n        value={value}\n        {...rest}\n      />\n    );\n  } else if (['between', 'notBetween'].includes(operator)) {\n    return (\n      <React.Fragment>\n        <Component\n          name=\"value\"\n          style={{ marginRight: 8, ...style }}\n          className={classes.criteriaValue}\n          onChange={(value) => onChange({ name: 'value', value: `${value}` })}\n          value={value}\n          {...rest}\n        />\n\n        <Component\n          name=\"value2\"\n          className={classes.criteriaValue}\n          onChange={(value) => onChange({ name: 'value2', value: `${value}` })}\n          value={value2}\n          {...rest}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction renderRelationalWidget(operator, { onChange, ...rest }) {\n  if (['like', 'notLike', 'notIn'].includes(operator)) {\n    return (\n      <TextField\n        name=\"value\"\n        onChange={(value) => onChange({ name: 'value', value: value })}\n        margin=\"none\"\n        style={{ width: 250 }}\n        {...rest}\n      />\n    );\n  } else if (['in'].includes(operator)) {\n    const { field, value } = rest;\n    const { targetName } = field;\n\n    const fetchData = async ({ search }) => {\n      const { data } = await searchRecordsByField(field, search);\n      return data;\n    };\n\n    return (\n      <Selection\n        placeholder=\"\"\n        fetchAPI={fetchData}\n        isSearchable={true}\n        optionLabelKey={targetName}\n        optionValueKey=\"id\"\n        name=\"value\"\n        value={value}\n        isMulti\n        formControlStyle={{ marginBottom: '5px', width: 250 }}\n        clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n        closeMenuOnScroll={false}\n        onChange={(value) =>\n          onChange({\n            name: 'value',\n            value: Array.isArray(value)\n              ? value.map((x) => ({ id: x.id, [targetName]: x[targetName] }))\n              : value && { id: value.id, [targetName]: value[targetName] },\n          })\n        }\n      />\n    );\n  }\n}\n\nfunction renderWidget({ type, operator, onChange, value, classes, ...rest }) {\n  const props = {\n    value: value.value,\n    value2: value.value2,\n    onChange,\n    ...rest,\n  };\n  switch (type) {\n    case 'one_to_one':\n    case 'many_to_one':\n    case 'many_to_many':\n    case 'one_to_many':\n      return renderRelationalWidget(operator, { ...props });\n    case 'date':\n    case 'time':\n    case 'dateTime':\n      return renderSimpleWidget(DateTimePicker, operator, {\n        type: type,\n        ...props,\n        format: 'DD/MM/YYYY',\n        margin: 'none',\n        classes,\n      });\n    case 'integer':\n    case 'long':\n    case 'decimal':\n      return renderSimpleWidget(NumberField, operator, {\n        type: type,\n        ...props,\n        margin: 'none',\n        classes,\n      });\n    case 'enum':\n      const options = rest.field.selectionList.map(\n        ({ title, value, data }) => ({\n          name: (data && data.value) || value,\n          title: title,\n        })\n      );\n      return renderSimpleWidget(Select, operator, {\n        options,\n        classes,\n        ...props,\n      });\n    default:\n      return renderSimpleWidget(TextField, operator, {\n        classes,\n        ...props,\n        margin: 'none',\n      });\n  }\n}\n\nexport function AddCriteria({\n  className,\n  onRemove,\n  onChange,\n  value,\n  fields,\n  classes,\n  mobileView,\n}) {\n  let field = fields.find((item) => item.name === value.fieldName);\n  let type = ((field && field.type) || '').toLowerCase();\n  field && field.selectionList && (type = 'enum');\n\n  let operatorsOptions = operators.filter((item) =>\n    (operators_by_type[type] || []).includes(item.name)\n  );\n\n  function SelectWrapper({ name, options, ...rest }) {\n    return (\n      <Select\n        name={name}\n        onChange={(value) => onChange({ name, value })}\n        value={value[name]}\n        options={options}\n        {...rest}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <IconButton aria-label=\"close\" className={className} onClick={onRemove}>\n        <Close />\n      </IconButton>\n      <div className={classnames({ [classes.mobileViewCriteria]: mobileView })}>\n        <SelectWrapper\n          name=\"fieldName\"\n          options={fields}\n          className=\"fieldName\"\n        />\n        <SelectWrapper\n          name=\"operator\"\n          options={operatorsOptions}\n          className=\"operator\"\n        />\n        {value.operator &&\n          renderWidget({\n            type,\n            operator: value['operator'],\n            value,\n            onChange,\n            classes,\n            ...{ field },\n          })}\n      </div>\n    </div>\n  );\n}\n\nexport default function FilterEditor({\n  customCriteria,\n  setCustomCriteria,\n  fields,\n  clearFilters,\n  applyFiltersClick,\n  filterView,\n  onSave,\n  onDelete,\n  mobileView,\n  onExport,\n  onExportAll,\n}) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = React.useState(false);\n  const { id, operator, isArchived, criteria, title, isShare } = customCriteria;\n\n  const onAddCriteria = () => {\n    setCustomCriteria(\n      produce((draft) => {\n        draft.criteria[draft.criteria.length - 1].operator &&\n          draft.criteria.push({});\n      })\n    );\n  };\n\n  function onChange({ target: { name, value } }) {\n    setCustomCriteria({\n      ...customCriteria,\n      [name]: value,\n    });\n  }\n\n  function onRemoveCriteria(index) {\n    setCustomCriteria(\n      produce((draft) => {\n        if (draft.criteria.length === 1) {\n          draft.criteria = [{}];\n        } else {\n          draft.criteria.splice(index, 1);\n        }\n      })\n    );\n  }\n\n  function onCriteriaChange(name, value, index) {\n    if (value instanceof moment) {\n      value = moment(value).format('YYYY-MM-DD');\n    }\n    setCustomCriteria(\n      produce((draft) => {\n        draft.criteria[index][name] = value;\n        if (name === 'fieldName') {\n          draft.criteria[index].operator = '';\n          draft.criteria[index].value = getDefaultValue(value);\n        }\n      })\n    );\n  }\n\n  function getDefaultValue(fieldName) {\n    const field = fields.find((f) => f.name === fieldName);\n    const type = field.type.toLowerCase();\n    if (\n      ['one_to_one', 'many_to_one', 'many_to_many', 'one_to_many'].includes(\n        type\n      )\n    ) {\n      return null;\n    } else if (['integer', 'long', 'decimal'].includes(type)) {\n      return 0;\n    } else if (['date', 'time', 'dateTime'].includes(type)) {\n      return null;\n    } else {\n      return '';\n    }\n  }\n\n  function onClear() {\n    clearFilters();\n    setCustomCriteria(defaultState);\n  }\n\n  function onSaveFilter() {\n    const { id, version, title, isShare, operator, criteria } = customCriteria;\n    let savedFilter = {\n      shared: isShare || false,\n      title: title,\n      filterCustom: JSON.stringify({ operator, criteria }),\n      filterView: filterView,\n    };\n    if (id) {\n      savedFilter.id = id;\n      savedFilter.version = version;\n    } else {\n      savedFilter.name = title.replace(' ', '_').toLowerCase();\n    }\n    onSave(savedFilter);\n  }\n\n  function onDeleteFilter() {\n    onDelete(customCriteria);\n    setOpenDialog(false);\n  }\n\n  return (\n    <React.Fragment>\n      <div>\n        <BooleanRadio\n          name=\"operator\"\n          onChange={(e) => onChange(e)}\n          value={operator}\n          classes={classes}\n          className={classes.group}\n          data={[\n            { label: translate('and'), value: 'and' },\n            { label: translate('or'), value: 'or' },\n          ]}\n        />\n        <BooleanCheckBox\n          name=\"isArchived\"\n          title={translate('Show archived')}\n          value={isArchived}\n          onChange={({ name, checked }) =>\n            onChange({ target: { value: checked, name: name } })\n          }\n          classes={classes}\n          className=\"archived\"\n        />\n      </div>\n      <div>\n        <List className={classes.list}>\n          {criteria.map((item, index) => (\n            <ListItem className={classes.listItem} key={index}>\n              <AddCriteria\n                className={classes.buttonLink}\n                id={index}\n                value={item}\n                fields={fields}\n                onRemove={() => onRemoveCriteria(index)}\n                onChange={({ name, value }) =>\n                  onCriteriaChange(name, value, index)\n                }\n                classes={classes}\n                mobileView={mobileView}\n              />\n            </ListItem>\n          ))}\n        </List>\n      </div>\n      <div\n        className={classnames(classes.buttonLink, {\n          [classes.mobileViewButtonLink]: mobileView,\n        })}\n      >\n        <ButtonLink\n          title={translate('Add filter')}\n          className={classnames(classes.link, 'add-filter')}\n          onClick={onAddCriteria}\n        />\n        <Divider className={classes.divider} />\n        <ButtonLink\n          title={translate('Clear')}\n          className={classnames(classes.link, 'clear')}\n          onClick={onClear}\n        />\n        <Divider className={classes.divider} />\n        <ButtonLink\n          title={translate('Export')}\n          className={classes.link}\n          onClick={onExport}\n        />\n        <Divider className={classes.divider} />\n        <ButtonLink\n          title={translate('Export full')}\n          className={classes.link}\n          onClick={onExportAll}\n        />\n        <Divider className={classes.divider} />\n        <ButtonLink\n          title={translate('Apply')}\n          className={classnames(classes.link, 'apply-filter')}\n          onClick={() => applyFiltersClick(customCriteria)}\n        />\n      </div>\n      <Divider style={{ marginTop: 8 }} />\n      <div>\n        <TextField\n          name=\"title\"\n          value={title}\n          onChange={(value) =>\n            onChange({ target: { value: value, name: 'title' } })\n          }\n          className={classnames(classes.textField, 'title')}\n        />\n        <BooleanCheckBox\n          title={translate('share')}\n          name=\"isShare\"\n          value={isShare}\n          onChange={({ name, checked }) =>\n            onChange({ target: { value: checked, name: name } })\n          }\n          className=\"share\"\n        />\n      </div>\n      <div>\n        <SimpleButton\n          classes={classes}\n          onClick={onSaveFilter}\n          title={translate('Save')}\n          hide={title === '' || title === null || id !== undefined}\n          className=\"save\"\n        />\n        <SimpleButton\n          classes={classes}\n          onClick={onSaveFilter}\n          title={translate('Update')}\n          hide={id === '' || id === undefined || id === null}\n        />\n        <SimpleButton\n          classes={classes}\n          onClick={() => setOpenDialog(true)}\n          title={translate('Delete')}\n          hide={id === '' || id === undefined || id === null}\n          className=\"delete\"\n        />\n        <Dialog\n          open={openDialog}\n          onClose={() => setOpenDialog(false)}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle id=\"alert-dialog-title\">{'Question'}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              {translate('Would you like to remove the filter?')}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setOpenDialog(false)} className=\"cancel\">\n              {translate('Cancel')}\n            </Button>\n            <Button\n              onClick={onDeleteFilter}\n              color=\"primary\"\n              autoFocus\n              className=\"confirm-delete\"\n            >\n              {translate('Ok')}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport {\n  Divider,\n  IconButton,\n  InputAdornment,\n  Popper,\n  Typography,\n  Paper,\n  List,\n  ListItem,\n  Drawer,\n  ClickAwayListener,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Search, ArrowDropDown, Close } from '@material-ui/icons';\n\nimport ChipsList from './ChipsList';\nimport { FontAwesomeIcon } from '../icons';\nimport TextField from '../form/input/input';\nimport FilterEditor, { defaultState } from './filterEditor';\nimport { ButtonLink, BooleanCheckBox } from './common';\nimport ResponsiveView from './../ResponsiveView';\nimport { translate } from '../../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    border: '1px solid',\n    borderRadius: 20,\n    backgroundColor: theme.palette.grey[200],\n    borderColor: theme.palette.grey[300],\n    padding: `0 ${theme.spacing()}px`,\n    width: '100%',\n    maxWidth: 300,\n    '& > div:last-child': {\n      zIndex: 1,\n    },\n  },\n  textField: {\n    margin: theme.spacing(1),\n    flexBasis: 200,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  typography: {\n    padding: theme.spacing(1),\n    fontWeight: 600,\n    flex: 1,\n  },\n  searchContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    '& div': {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n  },\n  group: {\n    margin: '0px 8px',\n    flexDirection: 'row',\n  },\n  paper: {\n    minWidth: 480,\n    boxShadow: '0 4px 12px rgb(0,0,0,0.4)',\n  },\n  link: {\n    margin: theme.spacing(1),\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  list: {\n    width: '100%',\n    padding: 0,\n  },\n  listItem: {\n    paddingLeft: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  searchFilterContainer: {\n    display: 'flex',\n    alignItems: 'flex-start !important',\n  },\n  searchFilter: {\n    flexDirection: 'column',\n    alignItems: 'baseline !important',\n    width: '100%',\n  },\n  filter: {\n    flexDirection: 'column',\n    marginLeft: 8,\n    alignItems: 'baseline !important',\n  },\n  inputIconBtn: {\n    margin: 0,\n    padding: 0,\n    color: '#bbb',\n  },\n  label: {\n    fontSize: '0.875rem',\n  },\n  filterLabel: {\n    display: 'flex',\n    alignItems: 'center',\n    margin: '0 8px',\n  },\n}));\n\nfunction getJSONData(value) {\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    return value;\n  }\n}\nfunction IconLabel({ icon, title, classes }) {\n  return (\n    <div className={classes.filterLabel}>\n      <FontAwesomeIcon icon={icon} />\n      <Typography className={classes.typography}>{title}</Typography>\n    </div>\n  );\n}\n\nexport function FilterListItem({\n  filter,\n  disabled,\n  isChecked,\n  onClick,\n  onChange,\n  classes,\n}) {\n  const { title } = filter;\n  function onCheck(value) {\n    onChange(value, filter);\n  }\n  return (\n    <ListItem className={classes.listItem}>\n      <BooleanCheckBox\n        name={title.replace(' ', '_').toLowerCase()}\n        value={isChecked}\n        onChange={onCheck}\n        inline\n        isDisabled={disabled}\n      />\n      <ButtonLink\n        title={title}\n        onClick={() => (!disabled || isChecked) && onClick(filter, !isChecked)}\n        style={disabled && !isChecked ? { color: 'rgba(0, 0, 0, 0.54)' } : {}}\n      />\n    </ListItem>\n  );\n}\n\nexport function FilterList({\n  active = [],\n  data = [],\n  disabled,\n  onClick,\n  onChange,\n  classes,\n}) {\n  return (\n    <div className={classes.filter}>\n      <List className={classes.list}>\n        {data.map((filter) => (\n          <FilterListItem\n            key={filter.id}\n            filter={filter}\n            isChecked={active.includes(filter.id)}\n            disabled={disabled}\n            onClick={onClick}\n            onChange={onChange}\n            classes={classes}\n          />\n        ))}\n      </List>\n    </div>\n  );\n}\n\nexport function AdvanceFilterInput({\n  filters,\n  value = [],\n  onOpen,\n  onDelete,\n  classes,\n  onContentSearch,\n}) {\n  const [inputText, setInputText] = useState('');\n  const handleContentSearch = React.useCallback(\n    (e) => {\n      const { value } = e.target;\n      onContentSearch(value || inputText);\n    },\n    [onContentSearch, inputText]\n  );\n  return value.length > 0 ? (\n    <ChipsList\n      handleClick={onOpen}\n      value={value}\n      onDelete={onDelete}\n      filters={filters}\n    />\n  ) : (\n    <TextField\n      name=\"search\"\n      margin=\"none\"\n      onChange={setInputText}\n      onKeyPress={(e) => e.key === 'Enter' && handleContentSearch(e)}\n      value={inputText}\n      InputProps={{\n        disableUnderline: true,\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton\n              aria-label=\"open\"\n              onClick={onOpen}\n              className={classes.inputIconBtn}\n            >\n              <ArrowDropDown />\n            </IconButton>\n            <IconButton\n              aria-label=\"refresh\"\n              className={classes.inputIconBtn}\n              onClick={handleContentSearch}\n            >\n              <Search />\n            </IconButton>\n          </InputAdornment>\n        ),\n      }}\n    />\n  );\n}\n\nexport default function AdvanceSearchFilterWidget({\n  name,\n  value,\n  fields,\n  filters = [],\n  domain = [],\n  onSave,\n  onDelete,\n  handleChange: setValue,\n  onContentSearch,\n  onExport,\n  onExportAll,\n}) {\n  const classes = useStyles();\n  let anchorEl = useRef();\n  const [open, setOpen] = React.useState(false);\n  const [activeFilters, setActiveFilters] = React.useState([]);\n  const [isSingleFilter, setFilterSingle] = React.useState(false);\n  const [customCriteria, setCustomCriteria] = useState(defaultState);\n\n  const currentFilter = isSingleFilter\n    ? filters.find((x) => x.id === activeFilters[0])\n    : null;\n\n  function getFilter(values, filterCustom = {}, isCustom) {\n    const selectedFilters = filters.filter((x) => values.includes(x.id));\n    const selectedDomains = domain.filter((x) => values.includes(x.id));\n    const graphqlFilter = {\n      criteria: [],\n      operator: filterCustom.operator || 'and',\n    };\n    if (isCustom && isSingleFilter) {\n      graphqlFilter.criteria = filterCustom.criteria;\n    } else {\n      if (selectedFilters.length) {\n        graphqlFilter.criteria.push(\n          ...selectedFilters.map((filter) => {\n            const { criteria = [], operator } = getJSONData(\n              filter.filterCustom\n            );\n            return { operator, criteria };\n          })\n        );\n      }\n      graphqlFilter.criteria.push(...(filterCustom.criteria || []));\n    }\n    if (selectedDomains.length) {\n      graphqlFilter._domains = selectedDomains.map(({ title, domain }) => ({\n        title,\n        domain,\n      }));\n    }\n    return graphqlFilter;\n  }\n\n  function applyCustomFilters(filterCustom) {\n    setValue({\n      selected: [null],\n      query: getFilter(activeFilters, filterCustom, true),\n    });\n  }\n\n  function applyFilters(values, filterCustom) {\n    let query = [];\n    if (values.length > 0) {\n      query = getFilter(values, filterCustom);\n    }\n    setValue({ selected: [...values], query: query });\n  }\n\n  function onFilterClick(filter, checked) {\n    const isDomainFilter = !!filter.domain;\n    const active = checked && filter ? [filter.id] : [];\n    setFilterSingle(isDomainFilter ? false : checked);\n    setActiveFilters(active);\n    applyFilters(active);\n  }\n\n  function onFilterCheck(checked, { id }) {\n    const ind = activeFilters.findIndex((x) => x === id);\n    if (ind > -1) {\n      !checked && activeFilters.splice(ind, 1);\n    } else {\n      checked && activeFilters.push(id);\n    }\n    setActiveFilters([...activeFilters]);\n  }\n\n  function clearFilters() {\n    setValue({});\n    setActiveFilters([]);\n    setFilterSingle(false);\n    setCustomCriteria(defaultState);\n  }\n\n  function applyFiltersClick(filterCustom) {\n    if (activeFilters.length > 0) {\n      applyFilters(activeFilters.length ? [...activeFilters] : [null]);\n    } else if (filterCustom && filterCustom.criteria.length) {\n      applyCustomFilters({\n        ...filterCustom,\n        criteria: (filterCustom.criteria || []).filter(\n          (x) => x.fieldName && x.operator\n        ),\n      });\n    }\n    setOpen(false);\n  }\n\n  const onRemove = (filter) => {\n    onDelete(filter);\n    clearFilters();\n  };\n\n  const onModify = async (filter) => {\n    const record = await onSave(filter);\n    onFilterClick(record);\n  };\n\n  const onClose = () => setOpen(false);\n\n  const handleDropDownClick = () => setOpen((prev) => !prev);\n\n  const renderAdvanceSearchView = (mobileView = false) => (\n    <div className={classes.searchContainer}>\n      <div>\n        <Typography className={classes.typography}>\n          {translate('Advanced Search')}\n        </Typography>\n        <IconButton aria-label=\"close\" onClick={onClose}>\n          <Close />\n        </IconButton>\n      </div>\n\n      <Divider />\n\n      <div className={classes.searchFilterContainer}>\n        {domain.length > 0 && (\n          <div className={classes.searchFilter}>\n            <IconLabel icon=\"filter\" title=\"Filters\" classes={classes} />\n            <FilterList\n              data={domain}\n              disabled={isSingleFilter}\n              active={activeFilters}\n              onClick={onFilterClick}\n              onChange={onFilterCheck}\n              classes={classes}\n            />\n          </div>\n        )}\n        {filters.length > 0 && (\n          <div className={classes.searchFilter}>\n            <IconLabel icon=\"filter\" title=\"My Filter\" classes={classes} />\n            <FilterList\n              data={filters}\n              disabled={isSingleFilter}\n              active={activeFilters}\n              onClick={onFilterClick}\n              onChange={onFilterCheck}\n              classes={classes}\n            />\n          </div>\n        )}\n      </div>\n\n      {filters.length >= 1 || domain.length ? (\n        <Divider style={{ marginTop: 8 }} />\n      ) : (\n        ''\n      )}\n\n      <FilterEditor\n        fields={fields}\n        clearFilters={clearFilters}\n        applyFiltersClick={applyFiltersClick}\n        filterView={name}\n        onSave={onModify}\n        onDelete={onRemove}\n        customCriteria={customCriteria}\n        setCustomCriteria={setCustomCriteria}\n        mobileView={mobileView}\n        onExport={onExport}\n        onExportAll={onExportAll}\n      />\n    </div>\n  );\n\n  const renderDesktopView = () => (\n    <ClickAwayListener onClickAway={onClose}>\n      <Popper\n        open={open}\n        anchorEl={anchorEl.current}\n        placement={'bottom-end'}\n        disablePortal={true}\n      >\n        <Paper className={classes.paper}>{renderAdvanceSearchView()}</Paper>\n      </Popper>\n    </ClickAwayListener>\n  );\n\n  const renderMobileView = () => (\n    <Drawer open={open} fullScreen={true}>\n      {renderAdvanceSearchView(true)}\n    </Drawer>\n  );\n\n  useEffect(() => {\n    if (currentFilter) {\n      const { criteria, operator } = getJSONData(currentFilter.filterCustom);\n      setCustomCriteria({\n        ...currentFilter,\n        operator,\n        criteria: criteria.map((f) => ({ ...f, operator: f.operator })),\n      });\n    } else {\n      setCustomCriteria(defaultState);\n    }\n  }, [setCustomCriteria, currentFilter]);\n\n  return (\n    <div className={classes.container} ref={anchorEl}>\n      <AdvanceFilterInput\n        value={value && value.selected}\n        filters={filters}\n        onOpen={handleDropDownClick}\n        onDelete={clearFilters}\n        classes={classes}\n        onContentSearch={onContentSearch}\n      />\n\n      <ResponsiveView\n        DesktopView={renderDesktopView}\n        MobileView={renderMobileView}\n      />\n    </div>\n  );\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  IconButton,\n  Paper,\n  Button,\n  MenuItem,\n  ClickAwayListener,\n  MenuList,\n  Popover,\n  Typography,\n  Drawer,\n  List,\n  ListItem,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { amber } from '@material-ui/core/colors';\nimport clsx from 'clsx';\nimport {\n  ViewModule as GridIcon,\n  ViewHeadline as ListIcon,\n  ChevronLeft as PrevIcon,\n  ChevronRight as NextIcon,\n  Star as StarIcon,\n  StarBorder as StarBorderIcon,\n  MoreVert as MoreVertIcon,\n  ArrowDropDown as CaretIcon,\n} from '@material-ui/icons';\nimport classNames from 'classnames';\n\nimport AdvanceSearch from './advanced-search/index';\nimport ResponsiveView from './ResponsiveView';\nimport { TREE_VIEW_WIDTH } from '../constant';\nimport { translate } from './../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbarWrapper: {\n    flexGrow: 1,\n    position: 'relative',\n    backgroundColor: 'white',\n    padding: '5px 10px',\n    display: 'flex',\n  },\n  iconButton: {\n    marginLeft: theme.spacing(),\n    padding: theme.spacing(0.5),\n  },\n  icon: {\n    backgroundColor: 'transparent',\n    color: theme.palette.grey[600],\n    transition: theme.transitions.create(['color'], {\n      easing: theme.transitions.easing.easeInOut,\n      duration: theme.transitions.duration.standard,\n    }),\n  },\n  selectedViewMode: {\n    color: theme.palette.grey[900],\n    borderRadius: '50%',\n  },\n  popper: {\n    zIndex: 9999,\n  },\n  customButton: {\n    width: '100%',\n    borderRadius: 4,\n    cursor: 'pointer',\n    display: 'flex',\n    border: '1px solid',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: theme.spacing(0.5),\n    borderColor: theme.palette.grey[300],\n    transition: theme.transitions.create(['background-color'], {\n      easing: theme.transitions.easing.easeInOut,\n    }),\n    '&:hover': {\n      backgroundColor: theme.palette.grey[200],\n    },\n  },\n  projectSelectorPaper: {\n    width: TREE_VIEW_WIDTH - 20,\n    [theme.breakpoints.only('xs')]: {\n      width: '100%',\n    },\n  },\n  favourite: {\n    marginLeft: theme.spacing(),\n  },\n  favouriteButtonText: {\n    marginLeft: theme.spacing(),\n    textTransform: 'capitalize',\n  },\n  favouriteButton: {\n    justifyContent: 'center',\n  },\n  favouriteIcon: {\n    color: amber[500],\n  },\n  mobileDrawer: {\n    padding: theme.spacing(),\n  },\n  desktopToolbarWrapper: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  projectSelector: {\n    flex: 1,\n    minWidth: TREE_VIEW_WIDTH - 10,\n    maxWidth: TREE_VIEW_WIDTH - 10,\n    display: 'flex',\n  },\n  advanceSearch: {\n    flex: 1,\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginLeft: theme.spacing(),\n  },\n  actionIcon: {\n    fontSize: 20,\n    marginRight: 10,\n  },\n  uploadText: {\n    textTransform: 'capitalize',\n  },\n}));\n\nfunction disableNext(pagination) {\n  const { total, offset, limit } = pagination;\n  return offset + limit >= total;\n}\n\nfunction disablePrev(pagination) {\n  const { offset } = pagination;\n  return offset === 0;\n}\n\nfunction ProjectSelector({\n  selectedProject,\n  projectList,\n  handleSelectedProject,\n}) {\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuClick = (e, project) => {\n    e.preventDefault();\n    handleSelectedProject(project);\n    handleClose();\n  };\n\n  function handleListKeyDown(e) {\n    if (e.key === 'Tab') {\n      e.preventDefault();\n      handleClose();\n    }\n  }\n\n  const open = Boolean(anchorEl);\n  const selectorTitle = selectedProject\n    ? selectedProject.fullName\n    : translate('Select Project');\n  return (\n    <>\n      <div onClick={handleClick} className={classes.customButton}>\n        <Typography noWrap variant=\"body1\" title={selectorTitle}>\n          {selectorTitle}\n        </Typography>\n        <CaretIcon />\n      </div>\n      <Popover\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        classes={{\n          paper: classes.projectSelectorPaper,\n        }}\n      >\n        <Paper>\n          <ClickAwayListener onClickAway={handleClose}>\n            <MenuList\n              autoFocus={open}\n              id=\"menu-list-grow\"\n              onKeyDown={handleListKeyDown}\n            >\n              {projectList.map((project) => (\n                <MenuItem\n                  onClick={(e) => handleMenuClick(e, project)}\n                  key={project.id}\n                >\n                  <Typography noWrap variant=\"body1\">\n                    {project.fullName}\n                  </Typography>\n                </MenuItem>\n              ))}\n            </MenuList>\n          </ClickAwayListener>\n        </Paper>\n      </Popover>\n    </>\n  );\n}\n\nconst DesktopView = ({\n  onListViewClick,\n  onGridViewClick,\n  viewMode,\n  fields,\n  onSave,\n  onRemove,\n  filters,\n  onFilter,\n  searchFilter,\n  handleSelectedProject,\n  selectedProject,\n  projectList,\n  pagination,\n  onPrev,\n  onNext,\n  onFavouriteSearch,\n  onContentSearch,\n  FavouriteIcon,\n  onExport,\n  onExportAll,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.desktopToolbarWrapper}>\n      <div className={classes.projectSelector}>\n        <ProjectSelector\n          selectedProject={selectedProject}\n          projectList={projectList}\n          handleSelectedProject={handleSelectedProject}\n        />\n      </div>\n\n      <div className={classes.favourite}>\n        <div\n          className={clsx(classes.customButton, classes.favouriteButton)}\n          onClick={onFavouriteSearch}\n        >\n          <FavouriteIcon className={classes.favouriteIcon} />\n          <Typography className={classes.favouriteButtonText} noWrap>\n            {translate('Favourites')}\n          </Typography>\n        </div>\n      </div>\n\n      <div className={classes.advanceSearch}>\n        <AdvanceSearch\n          fields={fields}\n          handleChange={onFilter}\n          onSave={onSave}\n          onDelete={onRemove}\n          filters={filters}\n          value={searchFilter}\n          onContentSearch={onContentSearch}\n          onExport={onExport}\n          onExportAll={onExportAll}\n        />\n      </div>\n\n      <div>\n        <IconButton\n          size=\"small\"\n          onClick={onPrev}\n          className={classes.iconButton}\n          disabled={disablePrev(pagination)}\n        >\n          <PrevIcon className={classes.icon} />\n        </IconButton>\n\n        <IconButton\n          size=\"small\"\n          onClick={onNext}\n          className={classes.iconButton}\n          disabled={disableNext(pagination)}\n        >\n          <NextIcon className={classes.icon} />\n        </IconButton>\n\n        <IconButton\n          size=\"small\"\n          onClick={onListViewClick}\n          className={classes.iconButton}\n        >\n          <ListIcon\n            className={clsx(classes.icon, {\n              [classes.selectedViewMode]: viewMode === 'list',\n            })}\n          />\n        </IconButton>\n\n        <IconButton\n          size=\"small\"\n          onClick={onGridViewClick}\n          className={classes.iconButton}\n        >\n          <GridIcon\n            className={clsx(classes.icon, {\n              [classes.selectedViewMode]: viewMode === 'card',\n            })}\n          />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nconst MobileView = ({\n  onListViewClick,\n  onGridViewClick,\n  viewMode,\n  fields,\n  onSave,\n  onRemove,\n  filters,\n  onFilter,\n  searchFilter,\n  handleSelectedProject: handleSelectedProjectProp,\n  selectedProject,\n  projectList,\n  pagination,\n  onPrev,\n  onNext,\n  onFavouriteSearch,\n  onContentSearch,\n  FavouriteIcon,\n  onOpenUpload,\n  onExport,\n  onExportAll,\n}) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const onMenuClick = () => setOpen(true);\n\n  const onClose = () => setOpen(false);\n\n  const handleSelectedProject = (project) => {\n    onClose();\n    handleSelectedProjectProp(project);\n  };\n\n  const handleOpenUpload = () => {\n    onClose();\n    onOpenUpload();\n  };\n\n  return (\n    <>\n      <IconButton\n        size=\"small\"\n        onClick={onMenuClick}\n        className={classes.iconButton}\n        style={{ margin: 0 }}\n      >\n        <MoreVertIcon className={classes.icon} />\n      </IconButton>\n\n      <IconButton\n        size=\"small\"\n        onClick={onFavouriteSearch}\n        className={classes.iconButton}\n      >\n        <FavouriteIcon className={clsx(classes.icon, classes.favouriteIcon)} />\n      </IconButton>\n\n      <div className={classes.advanceSearch}>\n        <AdvanceSearch\n          fields={fields}\n          handleChange={onFilter}\n          onSave={onSave}\n          onDelete={onRemove}\n          filters={filters}\n          value={searchFilter}\n          onContentSearch={onContentSearch}\n          onExport={onExport}\n          onExportAll={onExportAll}\n        />\n      </div>\n\n      <IconButton\n        size=\"small\"\n        onClick={onPrev}\n        className={classes.iconButton}\n        disabled={disablePrev(pagination)}\n      >\n        <PrevIcon className={classes.icon} />\n      </IconButton>\n\n      <IconButton\n        size=\"small\"\n        onClick={onNext}\n        className={classes.iconButton}\n        disabled={disableNext(pagination)}\n      >\n        <NextIcon className={classes.icon} />\n      </IconButton>\n\n      <IconButton\n        size=\"small\"\n        onClick={onListViewClick}\n        className={classes.iconButton}\n      >\n        <ListIcon\n          className={clsx(classes.icon, {\n            [classes.selectedViewMode]: viewMode === 'list',\n          })}\n        />\n      </IconButton>\n\n      <IconButton\n        size=\"small\"\n        onClick={onGridViewClick}\n        className={classes.iconButton}\n      >\n        <GridIcon\n          className={clsx(classes.icon, {\n            [classes.selectedViewMode]: viewMode === 'card',\n          })}\n        />\n      </IconButton>\n\n      <Drawer anchor=\"top\" open={open} onClose={onClose}>\n        <List>\n          <ListItem button>\n            <ProjectSelector\n              selectedProject={selectedProject}\n              projectList={projectList}\n              handleSelectedProject={handleSelectedProject}\n            />\n          </ListItem>\n\n          {selectedProject && (\n            <ListItem button>\n              <Button fullWidth variant=\"outlined\" onClick={handleOpenUpload}>\n                <i className={classNames('fa fa-upload', classes.actionIcon)} />\n                <Typography className={classes.uploadText}>\n                  {translate('Upload Files')}\n                </Typography>\n              </Button>\n            </ListItem>\n          )}\n        </List>\n      </Drawer>\n    </>\n  );\n};\n\nconst Toolbar = ({\n  onViewModeChange,\n  viewMode,\n  fields,\n  onSave,\n  onRemove,\n  filters,\n  onFilter,\n  searchFilter,\n  handleSelectedProject,\n  selectedProject,\n  projectList,\n  pagination,\n  onPrev,\n  onNext,\n  favouriteSearch,\n  onFavouriteSearch,\n  onContentSearch,\n  onOpenUpload,\n  onExport,\n  onExportAll,\n}) => {\n  const classes = useStyles();\n\n  const onListViewClick = useCallback(() => {\n    onViewModeChange('list');\n  }, [onViewModeChange]);\n\n  const onGridViewClick = useCallback(() => {\n    onViewModeChange('card');\n  }, [onViewModeChange]);\n\n  const viewProps = {\n    onListViewClick,\n    onGridViewClick,\n    viewMode,\n    fields,\n    onSave,\n    onRemove,\n    filters,\n    onFilter,\n    searchFilter,\n    handleSelectedProject,\n    selectedProject,\n    projectList,\n    pagination,\n    onPrev,\n    onNext,\n    onFavouriteSearch,\n    onContentSearch,\n    FavouriteIcon: favouriteSearch ? StarIcon : StarBorderIcon,\n    onOpenUpload,\n    onExport,\n    onExportAll,\n  };\n\n  useEffect(() => {\n    if (projectList && projectList.length === 1) {\n      handleSelectedProject(projectList[0]);\n    }\n  }, [projectList]);\n\n  return (\n    <Paper elevation={4} square className={classes.toolbarWrapper}>\n      <ResponsiveView\n        DesktopView={DesktopView}\n        MobileView={MobileView}\n        viewProps={viewProps}\n      />\n    </Paper>\n  );\n};\n\nexport default Toolbar;\n","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport FileViewer from 'react-file-viewer';\nimport {\n  IconButton,\n  Button,\n  Typography,\n  useMediaQuery,\n} from '@material-ui/core';\nimport { Document, Page as PDFPage, pdfjs } from 'react-pdf';\nimport {\n  ChevronLeft as PrevIcon,\n  ChevronRight as NextIcon,\n} from '@material-ui/icons';\nimport classNames from 'classnames';\nimport { httpService } from './../service';\nimport SlideTransition from './SlideTransition';\nimport { translate } from '../utils';\nimport { getDMSDownloadURL, getDocumentURL } from './../DmsContainer';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  pdfPage: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  mobilePdfPage: {\n    '&>div': {\n      width: '100% !important',\n    },\n    '& > canvas': {\n      width: '100% !important',\n    },\n  },\n  pdfNavigation: {\n    display: 'flex',\n  },\n  mobileImage: {\n    width: 'fit-content',\n  },\n  mobielForm: {\n    overflowX: 'hidden',\n  },\n  imageView: {\n    overflowX: 'auto',\n  },\n}));\n\nfunction FilePreviewContainer(props) {\n  const { document, onClose, open } = props;\n  const [pdfBlob, setPdfBlob] = React.useState();\n\n  React.useEffect(() => {\n    if (document.fileType && document.fileType.indexOf('pdf') !== -1) {\n      httpService.download(document, true).then((pdfBlob) => {\n        setPdfBlob(pdfBlob);\n      });\n    }\n  }, [document]);\n\n  return (\n    <FilePreview\n      pdfBlob={pdfBlob}\n      open={open}\n      onClose={onClose}\n      document={document}\n    />\n  );\n}\n\nfunction FilePreview(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { document, onClose, open, pdfBlob } = props;\n  const [totalPdfPages, setTotalPdfPages] = React.useState();\n  const [pdfPageNumber, setPdfPageNumber] = React.useState(1);\n  const desktopView = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const handleDocumentLoad = React.useCallback(({ numPages }) => {\n    setTotalPdfPages(numPages);\n  }, []);\n  const gotoNext = React.useCallback(() => {\n    setPdfPageNumber((n) => n + 1);\n  }, []);\n  const gotoPrevious = React.useCallback(() => {\n    setPdfPageNumber((n) => n - 1);\n  }, []);\n\n  return (\n    <Dialog\n      onClose={onClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"lg\"\n      fullWidth={true}\n      fullScreen={!desktopView}\n      TransitionComponent={SlideTransition}\n      transitionDuration={200}\n    >\n      <DialogTitle>{translate('File preview')}</DialogTitle>\n      <DialogContent\n        className={classNames(classes.form, {\n          [classes.mobielForm]: !desktopView,\n        })}\n      >\n        {document.fileType.indexOf('sheet') !== -1 ? (\n          <FileViewer\n            fileType=\"xlsx\"\n            filePath={getDMSDownloadURL(document.id)}\n          />\n        ) : document.fileType.indexOf('csv') !== -1 ? (\n          <FileViewer\n            fileType=\"csv\"\n            filePath={getDMSDownloadURL(document.id)}\n          />\n        ) : document.fileType.indexOf('document') !== -1 ? (\n          <FileViewer\n            fileType=\"docx\"\n            filePath={getDMSDownloadURL(document.id)}\n          />\n        ) : document.fileType.indexOf('pdf') !== -1 && pdfBlob ? (\n          <div>\n            <Document file={pdfBlob} onLoadSuccess={handleDocumentLoad}>\n              <PDFPage\n                className={classNames(classes.pdfPage, {\n                  [classes.mobilePdfPage]: !desktopView,\n                })}\n                pageNumber={pdfPageNumber}\n              />\n            </Document>\n          </div>\n        ) : document.fileType.indexOf('image') !== -1 ? (\n          <div className={classes.imageView}>\n            <img\n              src={getDocumentURL(document.id)}\n              alt={document.fileName}\n              className={classNames({ [classes.mobileImage]: !desktopView })}\n            />\n          </div>\n        ) : (\n          <Typography>{translate('File format not supported yet')}</Typography>\n        )}\n      </DialogContent>\n      <DialogActions>\n        {document.fileType.indexOf('pdf') !== -1 && pdfBlob && (\n          <div className={classes.pdfNavigation}>\n            <IconButton disabled={pdfPageNumber <= 1} onClick={gotoPrevious}>\n              <PrevIcon />\n            </IconButton>\n            <p>\n              {translate('Page')} {pdfPageNumber} of {totalPdfPages}\n            </p>\n            <IconButton\n              disabled={pdfPageNumber >= totalPdfPages}\n              onClick={gotoNext}\n            >\n              <NextIcon />\n            </IconButton>\n          </div>\n        )}\n        <Button onClick={onClose} variant=\"outlined\">\n          {translate('Close')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default FilePreviewContainer;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Drawer,\n  Grid,\n  Typography,\n  Button,\n  IconButton,\n  FormControl,\n  MenuItem,\n  InputLabel,\n  Input,\n  Select,\n  Chip,\n  useMediaQuery,\n} from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport classNames from 'classnames';\nimport { translate } from '../../utils';\nimport { dmsVersionService } from '../../service';\nimport FilePreview from '../FilePreview';\nimport { getDocumentURL } from '../../DmsContainer';\n\nconst drawerWidth = 350;\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: 'inherit',\n    overflow: 'hidden',\n  },\n  drawer: {\n    width: drawerWidth,\n  },\n  fullDrawer: {\n    width: '100%',\n  },\n  header: {\n    padding: 10,\n    boxShadow: theme.shadows[4],\n  },\n  actionIcon: {\n    border: '1px solid rgba(0,0,0,0.5)',\n    fontSize: 25,\n    padding: 10,\n    margin: 5,\n    width: 50,\n    textAlign: 'center',\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n    },\n  },\n  content: {\n    padding: 10,\n  },\n  thumbnail: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    border: '1px solid #0003',\n    borderRadius: 4,\n    width: '97%',\n    alignSelf: 'center',\n    marginBottom: 10,\n    cursor: 'pointer',\n    position: 'relative',\n    height: 200,\n  },\n  thumbnailImage: {\n    maxHeight: '100%',\n    maxWidth: '100%',\n  },\n  thumbnailTypeIcon: {\n    fontSize: 150,\n  },\n  documentLockIcon: {\n    position: 'absolute',\n    fontSize: 25,\n    right: 10,\n    top: 5,\n  },\n  versionListItem: {\n    borderBottom: '1px solid rgba(0,0,0,0.2)',\n    padding: '5px 0px',\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  versionFileName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  restoreButton: {\n    padding: '0px !important',\n    marginLeft: 3,\n    textTransform: 'capitalize !important',\n  },\n  versionDownloadIcon: {\n    marginTop: 7,\n    paddingLeft: 5,\n    cursor: 'pointer',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    width: '90%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    marginRight: 5,\n    marginTop: 5,\n  },\n  chipContent: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  chipClose: {\n    width: '0.9em',\n    paddingLeft: 5,\n    cursor: 'pointer',\n  },\n  tagSaveIcon: {\n    marginTop: 30,\n    cursor: 'pointer',\n    color: 'rgb(47, 160, 66)',\n  },\n  restoreText: {\n    fontSize: '0.8rem !important',\n  },\n  getVersionButton: {\n    textTransform: 'capitalize !important',\n    margin: '10px 0px 10px 5px',\n  },\n\n  '@keyframes rotateKF': {\n    from: { transform: 'rotate(0deg)' },\n    to: { transform: 'rotate(359deg)' },\n  },\n  syncIcon: {\n    animation: '$rotateKF 1s infinite linear reverse',\n  },\n}));\n\nfunction Thumbnail({ item, onClick }) {\n  const classes = useStyles();\n  const { fileName, fileType } = item;\n  if (!item.id) {\n    return null;\n  }\n  return (\n    <div className={classes.thumbnail} onClick={onClick}>\n      {fileType && fileType.indexOf('image') !== -1 ? (\n        <img\n          src={`${getDocumentURL(item.id)}?v=${item.version}`}\n          alt={fileName}\n          className={classes.thumbnailImage}\n        />\n      ) : (\n        <i\n          className={classNames(\n            item.typeIcon,\n            classes.thumbnailTypeIcon,\n            classes.thumbnailImage\n          )}\n        />\n      )}\n      {item.isLock && (\n        <i\n          title=\"Lock\"\n          className={classNames('fa fa-lock', classes.documentLockIcon)}\n        />\n      )}\n    </div>\n  );\n}\nconst showLocking = (userId, document) => {\n  if (document.isLock && document.lockedBy) {\n    return userId === document.lockedBy.id;\n  }\n  return true;\n};\n\nconst canAddNewVersion = (userId, document) => {\n  if (document.isLock && document.lockedBy) {\n    return userId === document.lockedBy.id;\n  }\n  return true;\n};\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nfunction SideDetailView(props) {\n  const {\n    onClose,\n    userId,\n    desktopView,\n    onPreview,\n    onDownload,\n    onNewVersion,\n    onUnlock,\n    onLock,\n    onSendMail,\n    onPermission,\n    onVersionDownload,\n    tags,\n    onRestore,\n    handleChange,\n    tagList,\n    handleDeleteChip,\n    updateVersions,\n    versionsLoading,\n    versions,\n    preview,\n    handlePreviewClose,\n    document,\n  } = props;\n  const classes = useStyles();\n  return (\n    <Drawer\n      className={classNames(\n        { [classes.drawer]: desktopView },\n        { [classes.fullDrawer]: !desktopView }\n      )}\n      open={Boolean(document)}\n      onClose={onClose}\n      anchor=\"right\"\n      variant=\"persistent\"\n      classes={{\n        paper: classes.paper,\n      }}\n    >\n      {document && (\n        <>\n          <Grid container justify=\"space-between\" className={classes.header}>\n            <Grid item xs={10}>\n              <Typography noWrap variant=\"body1\">\n                {document.fileName}\n              </Typography>\n            </Grid>\n            <Grid item xs={2} align=\"right\">\n              <IconButton size=\"small\" onClick={onClose}>\n                <CloseIcon fontSize=\"small\" />\n              </IconButton>\n            </Grid>\n          </Grid>\n          <Grid container direction=\"column\" className={classes.content}>\n            <Thumbnail item={document} onClick={onPreview} />\n            <Grid item container justify=\"space-between\" direction=\"row\">\n              <Grid item>\n                <i\n                  title={translate('Download')}\n                  className={classNames('fa fa-download', classes.actionIcon)}\n                  onClick={onDownload}\n                />\n                {document.canWrite && canAddNewVersion(userId, document) && (\n                  <i\n                    title={translate('New version')}\n                    className={classNames('fa fa-upload', classes.actionIcon)}\n                    onClick={onNewVersion}\n                  />\n                )}\n                {document.canWrite && showLocking(userId, document) && (\n                  <>\n                    {document.isLock ? (\n                      <i\n                        title={translate('Unlock')}\n                        className={classNames(\n                          'fa fa-unlock',\n                          classes.actionIcon\n                        )}\n                        onClick={onUnlock}\n                      />\n                    ) : (\n                      <i\n                        title={translate('Lock')}\n                        className={classNames('fa fa-lock', classes.actionIcon)}\n                        onClick={onLock}\n                      />\n                    )}\n                  </>\n                )}\n              </Grid>\n              <Grid item>\n                {document.isLock &&\n                  document.lockedBy &&\n                  userId !== document.lockedBy.id && (\n                    <i\n                      className={classNames(\n                        'fa fa-envelope',\n                        classes.actionIcon\n                      )}\n                      onClick={onSendMail}\n                    />\n                  )}\n              </Grid>\n            </Grid>\n            <Grid>\n              <Button\n                onClick={onPermission}\n                className={classes.getVersionButton}\n                variant=\"outlined\"\n              >\n                {translate('Permissions')}\n              </Button>\n            </Grid>\n            <Grid container wrap=\"nowrap\">\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"tags-mutiple-chip-label\" shrink>\n                  {translate('Tags')}\n                </InputLabel>\n                <Select\n                  id=\"tags-mutiple-chip\"\n                  value={tags}\n                  onChange={handleChange}\n                  input={<Input id=\"select-multiple-chip\" />}\n                  renderValue={(selected) => (\n                    <div className={classes.chips}>\n                      {selected.map((value) => (\n                        <Chip\n                          size=\"small\"\n                          key={value.id}\n                          label={\n                            <div className={classes.chipContent}>\n                              <Typography noWrap variant=\"body1\">\n                                {value.name}\n                              </Typography>\n                              <CloseIcon\n                                className={classes.chipClose}\n                                onClick={(e) => handleDeleteChip(e, value)}\n                              />\n                            </div>\n                          }\n                          className={classes.chip}\n                        />\n                      ))}\n                    </div>\n                  )}\n                  MenuProps={MenuProps}\n                >\n                  {tagList.map((_tag) => {\n                    const { tagList, ...rootTag } = _tag;\n                    const _list = [{ ...rootTag }, ...tagList];\n                    return (_list || []).map((tag) => (\n                      <MenuItem key={tag.id} value={tag}>\n                        {rootTag.id === tag.id\n                          ? tag.name\n                          : `${rootTag.name} > ${tag.name}`}\n                      </MenuItem>\n                    ));\n                  })}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid>\n              <Button\n                variant=\"outlined\"\n                className={classes.getVersionButton}\n                onClick={updateVersions}\n              >\n                {translate('Get versions')}\n              </Button>\n              {versionsLoading ? (\n                <Grid item container justify=\"center\">\n                  <SyncIcon className={classes.syncIcon} />\n                </Grid>\n              ) : (\n                versions.map((record, i) => (\n                  <Grid key={i} item className={classes.versionListItem}>\n                    <Grid item xs={2}>\n                      {Number(record.documentVersion)}\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Typography\n                        title={record.metaFile && record.metaFile.fileName}\n                        className={classes.versionFileName}\n                      >\n                        {record.metaFile && record.metaFile.fileName}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={4}>\n                      {document['metaFile.id'] ===\n                      (record.metaFile || {}).id ? (\n                        <Typography align=\"center\">\n                          {translate('Current')}\n                        </Typography>\n                      ) : (\n                        <Grid item container justify=\"space-around\">\n                          <i\n                            title={translate('Download')}\n                            className={classNames(\n                              'fa fa-download',\n                              classes.versionDownloadIcon\n                            )}\n                            onClick={() => onVersionDownload(record)}\n                          />\n                          {document.canWrite && (\n                            <Button\n                              className={classes.restoreButton}\n                              variant=\"outlined\"\n                              onClick={() => onRestore(record)}\n                            >\n                              <Typography className={classes.restoreText}>\n                                {translate('Restore')}\n                              </Typography>\n                            </Button>\n                          )}\n                        </Grid>\n                      )}\n                    </Grid>\n                  </Grid>\n                ))\n              )}\n            </Grid>\n          </Grid>\n          {document.fileType && (\n            <FilePreview\n              document={document}\n              open={preview}\n              onClose={handlePreviewClose}\n            />\n          )}\n        </>\n      )}\n    </Drawer>\n  );\n}\n\nconst SideDetailViewContainer = ({\n  document,\n  onClose,\n  onDownload,\n  onNewVersion,\n  onLock,\n  onSendMail,\n  onUnlock,\n  userId,\n  onRestore,\n  onVersionDownload,\n  tagList,\n  onTagSave,\n  onPermission,\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [versions, setVersions] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [preview, setPreview] = useState(false);\n  const [versionsLoading, setVersionsLoading] = useState(false);\n  const desktopView = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const handlePreview = React.useCallback(() => {\n    document.fileType && setPreview(true);\n  }, [document]);\n\n  const updateVersions = useCallback(() => {\n    if (document) {\n      setVersionsLoading(true);\n\n      const data = { _domain: `self.documentId.id = ${document.id}` };\n      dmsVersionService\n        .search({ fields: ['metaFile', 'documentVersion'], data })\n        .then((res) => {\n          const { data = [] } = res;\n          setVersions([...data]);\n\n          setTimeout(() => setVersionsLoading(false), 1000);\n        })\n        .catch(() => setTimeout(() => setVersionsLoading(false), 1000));\n    }\n  }, [document]);\n\n  const handleChange = useCallback(\n    ({ target: { value } }) => {\n      setTags((tags) => {\n        if (!tags.find((t) => t.id === value.id)) {\n          const newTags = [...tags, value];\n\n          if (document) {\n            onTagSave(newTags);\n          }\n\n          return newTags;\n        }\n\n        return tags;\n      });\n    },\n    [document, onTagSave]\n  );\n\n  const handleDeleteChip = useCallback(\n    (e, value) => {\n      e.stopPropagation();\n\n      setTags((tags) => {\n        const newTags = tags.filter((t) => t.id !== value.id);\n        onTagSave(newTags);\n\n        return newTags;\n      });\n    },\n    [onTagSave]\n  );\n\n  const handlePreviewClose = useCallback(() => setPreview(false), []);\n\n  useEffect(() => {\n    setVersions([]);\n    updateVersions();\n\n    if (document) {\n      const { tags } = document;\n      if (tags) {\n        setTags([...tags]);\n      }\n    }\n  }, [document, updateVersions]);\n\n  return (\n    <SideDetailView\n      document={document}\n      userId={userId}\n      onClose={onClose}\n      desktopView={desktopView}\n      onPreview={handlePreview}\n      onDownload={onDownload}\n      onNewVersion={onNewVersion}\n      onUnlock={onUnlock}\n      onLock={onLock}\n      onSendMail={onSendMail}\n      onPermission={onPermission}\n      tags={tags}\n      onVersionDownload={onVersionDownload}\n      onRestore={onRestore}\n      handleChange={handleChange}\n      tagList={tagList}\n      handleDeleteChip={handleDeleteChip}\n      updateVersions={updateVersions}\n      versionsLoading={versionsLoading}\n      versions={versions}\n      preview={preview}\n      handlePreviewClose={handlePreviewClose}\n    />\n  );\n};\n\nexport default SideDetailViewContainer;\n","import SideDetailView from './SideDetailView';\n\nexport default SideDetailView;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Input from '@material-ui/core/Input';\n\nimport { translate } from '../../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  input: {\n    marginBottom: 25,\n  },\n}));\n\nfunction VersionDialog(props) {\n  const {\n    open,\n    onClose,\n    onSave,\n    record,\n    onFileChange,\n    onVersionChange,\n  } = props;\n\n  const { version } = record;\n\n  const classes = useStyles();\n\n  return (\n    <Dialog onClose={onClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n      <DialogTitle>{translate('New version')}</DialogTitle>\n      <DialogContent className={classes.form}>\n        <Input\n          placeholder={translate('New file')}\n          className={classes.input}\n          type=\"File\"\n          onChange={onFileChange}\n        />\n        <Input\n          className={classes.input}\n          type=\"number\"\n          name=\"version\"\n          value={version}\n          onChange={onVersionChange}\n          placeholder={translate('Version')}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onSave} variant=\"contained\" color=\"primary\">\n          {translate('Save')}\n        </Button>\n        <Button onClick={onClose} variant=\"outlined\">\n          {translate('Cancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst VersionDialogContainer = ({ open, onClose, onSave, versionRecord }) => {\n  const [record, setRecord] = useState({});\n\n  const handleSave = React.useCallback(() => {\n    if (record.file && record.version) {\n      onSave(record);\n      setRecord({});\n      onClose();\n    } else {\n      alert('All fields are required');\n    }\n  }, [record, onSave, onClose]);\n\n  const handleChange = React.useCallback((e) => {\n    const { name, value } = e.target;\n    setRecord((r) => {\n      return { ...r, [name]: value };\n    });\n  }, []);\n\n  const handleFileChange = React.useCallback((e) => {\n    const file = e.target.files;\n\n    if (file.length) {\n      setRecord((r) => ({ ...r, file }));\n    }\n  }, []);\n\n  const handleClose = React.useCallback(() => {\n    setRecord({});\n    onClose();\n  }, [onClose]);\n\n  useEffect(() => {\n    if (versionRecord) {\n      setRecord({ ...versionRecord });\n    }\n  }, [versionRecord]);\n\n  return (\n    <VersionDialog\n      record={record}\n      open={open}\n      onSave={handleSave}\n      onClose={handleClose}\n      onFileChange={handleFileChange}\n      onVersionChange={handleChange}\n    />\n  );\n};\n\nexport default VersionDialogContainer;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport classNames from 'classnames';\nimport { Typography } from '@material-ui/core';\n\nimport { TREE_VIEW_WIDTH } from '../constant';\nimport { translate } from './../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  dmsTreeContainer: {\n    width: TREE_VIEW_WIDTH,\n    paddingRight: 10,\n    maxHeight: '35%',\n    overflow: 'auto',\n  },\n  treeElement: {\n    padding: '0px 5px',\n    display: 'flex',\n  },\n  treeElementContainer: {\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, .05)',\n    },\n  },\n  selected: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n  },\n  expandIcon: {\n    marginTop: 3,\n    cursor: 'pointer',\n  },\n  folderIcon: {\n    fontSize: '1.3rem',\n    marginRight: 5,\n  },\n  root: {\n    padding: '2px !important',\n  },\n  tagName: {\n    paddingTop: 5,\n    paddingLeft: 3,\n  },\n  noChildElement: {\n    paddingLeft: 20,\n  },\n  tagTitle: {\n    paddingLeft: 20,\n    fontWeight: 'bold',\n  },\n}));\n\nfunction Expander(props) {\n  const classes = useStyles();\n  const Icon = props.isCollapse === false ? ArrowDropDown : ArrowRightIcon;\n  return <Icon className={classes.expandIcon} onClick={props.onClick} />;\n}\n\nfunction TagsFilterTree({ data, selectedTags, onChecked }) {\n  const classes = useStyles();\n  const [expandList, setExpandList] = useState([]);\n\n  const toggleExpand = React.useCallback((e, item) => {\n    const { id } = item;\n    e && e.stopPropagation();\n    let flag = true;\n    setExpandList((list) => {\n      const ind = list.indexOf(id);\n      if (flag) {\n        flag = false;\n        if (ind > -1) {\n          list.splice(ind, 1);\n        } else {\n          list.push(id);\n        }\n      }\n      return [...list];\n    });\n  }, []);\n\n  const handleCheck = React.useCallback(\n    (e, value) => {\n      e.stopPropagation();\n      const values = [value.id];\n      if (value.tagList) {\n        values.push(...value.tagList.map((t) => t.id));\n      }\n      onChecked(values);\n    },\n    [onChecked]\n  );\n\n  function renderTreeElement(childrenList, level) {\n    return childrenList.map((item, i) => {\n      const childrens = item.tagList || [];\n      const isCollapse = expandList.includes(item.id);\n      const hasChildren = Boolean(childrens.length);\n      return (\n        <React.Fragment key={i}>\n          <div className={classNames(classes.treeElementContainer)}>\n            <div\n              className={classNames(classes.treeElement, {\n                [classes.noChildElement]: !hasChildren,\n              })}\n              style={{ marginLeft: level * 15 }}\n              onClick={(e) => handleCheck(e, item)}\n            >\n              {hasChildren && (\n                <Expander\n                  onClick={(e) => toggleExpand(e, item)}\n                  isCollapse={isCollapse}\n                />\n              )}\n              <CheckBox\n                checked={selectedTags.includes(item.id)}\n                classes={{ root: classes.root }}\n              />\n              <Typography className={classes.tagName}>{item.name}</Typography>\n            </div>\n          </div>\n          {!isCollapse && renderTreeElement(childrens, level + 1)}\n        </React.Fragment>\n      );\n    });\n  }\n\n  return (\n    <div className={classes.dmsTreeContainer}>\n      {data.length > 0 && (\n        <Typography className={classes.tagTitle} variant=\"subtitle1\">\n          {translate('Tags')}\n        </Typography>\n      )}\n      {renderTreeElement(data, 1)}\n    </div>\n  );\n}\n\nexport default TagsFilterTree;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Collapse, IconButton, Typography, Hidden } from '@material-ui/core';\nimport { ExpandMore, ExpandLess } from '@material-ui/icons';\n\nimport { translate } from '../utils';\n\nconst useStyles = makeStyles((theme) => ({\n  collapseHandle: {\n    padding: theme.spacing(0.5),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  collapseContainer: {\n    maxHeight: 200,\n    overflow: 'auto',\n  },\n}));\n\nfunction SideTreeView({ children, hasData }) {\n  const classes = useStyles();\n  const [collapse, setCollapse] = React.useState(false);\n  const toggleCollapse = () => setCollapse((c) => !c);\n\n  return (\n    <>\n      <Hidden only=\"xs\">{children}</Hidden>\n      <Hidden smUp>\n        {hasData && (\n          <div className={classes.collapseHandle} onClick={toggleCollapse}>\n            <Typography>{translate('Directory and Tags')}</Typography>\n            <IconButton size=\"small\">\n              {collapse ? <ExpandLess /> : <ExpandMore />}\n            </IconButton>\n          </div>\n        )}\n        <Collapse\n          classes={{ container: classes.collapseContainer }}\n          in={collapse}\n        >\n          {children}\n        </Collapse>\n      </Hidden>\n    </>\n  );\n}\n\nexport default SideTreeView;\n","import {\n  appService,\n  appProjectService,\n  projectService,\n  dmsService,\n  filterService,\n  permissionService,\n  customFieldService,\n} from './service';\n\nexport async function getApp() {\n  const data = { _domain: \"self.code = 'project'\" };\n  return appService.search({ data }).then(({ data: [app] }) => app);\n}\n\nexport async function getAppProject(appId, fields) {\n  return appProjectService\n    .fetch(appId, { fields })\n    .then(({ data: [appProject] }) => appProject);\n}\n\nexport async function getDefaultIncrement() {\n  return getApp().then((app) => {\n    if (!(app && app.id)) return;\n    return getAppProject(app.id, ['defaultIncrement']).then(\n      (appProject) => appProject && appProject.defaultIncrement\n    );\n  });\n}\n\nexport async function getProjects(userId) {\n  if (!userId) return;\n  const data = {\n    criteria: [\n      { fieldName: 'membersUserSet.id', operator: 'in', value: [userId] },\n    ],\n  };\n\n  return projectService\n    .search({ fields: ['fullName'], data })\n    .then(({ data = [] }) => data);\n}\n\nexport async function lockDocument(document, userId) {\n  if (!userId) return;\n  const _document = {\n    id: document.id,\n    version: document.version,\n    isLock: true,\n    lockedBy: { id: userId },\n  };\n  return dmsService.save(_document);\n}\n\nexport async function unlockDocument(document) {\n  const _document = {\n    id: document.id,\n    version: document.version,\n    isLock: false,\n    lockedBy: null,\n  };\n  return dmsService.save(_document);\n}\n\nexport async function sendMail(document) {\n  if (!document) return;\n  const method = 'com.axelor.apps.projectdms.web.DMSController:sendEmail';\n  const data = {\n    data: {\n      model: dmsService.model,\n      domain: null,\n      context: {\n        ...document,\n      },\n    },\n  };\n  return dmsService.action(method, data).then(({ status }) => status);\n}\n\nexport async function getFilters() {\n  const method = 'com.axelor.meta.web.MetaFilterController:findFilters';\n  const data = {\n    data: {\n      model: filterService.model,\n      domain: null,\n      context: {\n        filterView: 'dms-file-filters',\n        _model: filterService.model,\n      },\n    },\n  };\n\n  return filterService.action(method, data).then(({ data = [] }) => data);\n}\n\nexport async function removeFilter(filter) {\n  if (!filter) return;\n  const method = 'com.axelor.meta.web.MetaFilterController:removeFilter';\n  const data = {\n    data: {\n      model: filterService.model,\n      domain: null,\n      context: {\n        ...filter,\n      },\n    },\n  };\n  return filterService.action(method, data).then(({ data = {} }) => data);\n}\n\nexport async function saveFilter(filter) {\n  if (!filter) return;\n  const method = 'com.axelor.meta.web.MetaFilterController:saveFilter';\n  const data = {\n    data: {\n      model: filterService.model,\n      domain: null,\n      context: {\n        ...filter,\n        ...(filter.name && { name: filter.name }),\n        filterView: 'dms-file-filters',\n        filters: '',\n      },\n    },\n  };\n  return filterService.action(method, data).then(({ data }) => data);\n}\n\nexport async function managePermission(fileId, permissionList, removeList) {\n  const valid = (perm) => {\n    if (perm.user && perm.group) {\n      return true;\n    }\n    return false;\n  };\n  const records = permissionList\n    .map((p) => {\n      if (!p.id && valid(p)) {\n        return {\n          ...p,\n          file: { id: fileId },\n          value: p.value ? p.value.id : null,\n        };\n      }\n      return undefined;\n    })\n    .filter((e) => e);\n  const data = { records };\n  let promises = [];\n  if (records.length > 0) {\n    promises.push(permissionService.save(data, true));\n  }\n  if (removeList.length > 0) {\n    promises.push(permissionService.removeAll(removeList));\n  }\n  return Promise.all(promises).then((res) => {\n    if (records.length > 0) {\n      const { data = [] } = res[0];\n      const _data = [...permissionList.filter((p) => p.id), ...data];\n      return _data;\n    }\n    return [...permissionList];\n  });\n}\n\nexport async function getPermission(fileId) {\n  const data = {\n    _domain: `self.file.id = ${fileId}`,\n  };\n  return permissionService.search({ data });\n}\n\nexport async function getCustomFields() {\n  const data = {\n    _domain: `self.jsonModel is null and self.model = '${dmsService.model}'`,\n  };\n  const fields = ['type', 'name', 'model', 'modelField', 'visibleInGrid'];\n  return customFieldService\n    .search({ fields, data })\n    .then(({ data = [] }) => data);\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Button,\n  Grid,\n  Hidden,\n} from '@material-ui/core';\nimport { Close as CloseIcon, Add as AddIcon } from '@material-ui/icons';\nimport classNames from 'classnames';\nimport { translate } from '../../utils';\nimport Selection from '../form/selection';\nimport getRestClient from '../../service';\nimport { permissionValues } from '../../constant';\nimport { managePermission, getPermission } from '../../api';\nimport SlideTransition from '../SlideTransition';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    '& svg.addIcon': {\n      cursor: 'pointer',\n      marginTop: 10,\n    },\n    '& svg.closeIcon': {\n      marginTop: 5,\n      cursor: 'pointer',\n    },\n  },\n  input: {\n    marginBottom: 25,\n  },\n  permissionView: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  actionButton: {\n    textTransform: 'capitalize',\n  },\n}));\n\nconst models = {\n  user: 'com.axelor.auth.db.User',\n  group: 'com.axelor.auth.db.Group',\n};\n\nconst defaultPermission = { user: null, group: null, value: null };\n\nfunction DesktopView(props) {\n  const {\n    open,\n    onClose,\n    onSave,\n    onNew,\n    onRemove,\n    onChange,\n    onFetch,\n    permissionList = [],\n  } = props;\n  const classes = useStyles();\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth={true}>\n      <DialogTitle>{translate('Permissions')}</DialogTitle>\n      <DialogContent className={classes.form}>\n        {permissionList.map((permission, i) => (\n          <div\n            key={i}\n            className={classNames(\n              classes.permissionRow,\n              classes.permissionView\n            )}\n          >\n            <Selection\n              readOnly={Boolean(permission.id)}\n              fetchAPI={(e) => onFetch(e, models.user, 'fullName')}\n              isSearchable={true}\n              optionLabelKey={'fullName'}\n              optionValueKey=\"id\"\n              name=\"user\"\n              value={permission.user}\n              formControlStyle={{ marginBottom: '5px', width: '30%' }}\n              clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n              closeMenuOnScroll={false}\n              onChange={(e) => onChange('user', e, i)}\n            />\n            <Selection\n              readOnly={Boolean(permission.id)}\n              fetchAPI={(e) => onFetch(e, models.group, 'name')}\n              isSearchable={true}\n              optionLabelKey={'name'}\n              optionValueKey=\"id\"\n              name=\"group\"\n              value={permission.group}\n              formControlStyle={{ marginBottom: '5px', width: '30%' }}\n              clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n              closeMenuOnScroll={false}\n              onChange={(e) => onChange('group', e, i)}\n            />\n            <Selection\n              readOnly={Boolean(permission.id)}\n              name=\"value\"\n              value={permission.value}\n              onChange={(e) => onChange('value', e, i)}\n              options={permissionValues}\n              formControlStyle={{ marginBottom: '5px', width: '30%' }}\n              clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n              closeMenuOnScroll={false}\n            />\n            <CloseIcon className=\"closeIcon\" onClick={() => onRemove(i)} />\n          </div>\n        ))}\n        <AddIcon className=\"addIcon\" onClick={onNew} />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={onClose}\n          variant=\"outlined\"\n          className={classes.actionButton}\n        >\n          {translate('Close')}\n        </Button>\n        <Button\n          onClick={onSave}\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.actionButton}\n        >\n          {translate('OK')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction MobileView(props) {\n  const {\n    open,\n    onClose,\n    onFetch,\n    onChange,\n    onNew,\n    onRemove,\n    onSave,\n    permissionList = [],\n  } = props;\n  const classes = useStyles();\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"sm\"\n      fullWidth={true}\n      fullScreen={true}\n      TransitionComponent={SlideTransition}\n      transitionDuration={200}\n    >\n      <DialogTitle>{translate('Permissions')}</DialogTitle>\n      <DialogContent className={classes.form}>\n        {permissionList.map((permission, i) => (\n          <div key={i} className={classes.permissionView}>\n            <Grid\n              container\n              direction=\"column\"\n              className={classes.permissionRow}\n            >\n              <Selection\n                readOnly={Boolean(permission.id)}\n                fetchAPI={(e) => onFetch(e, models.user, 'fullName')}\n                isSearchable={true}\n                optionLabelKey={'fullName'}\n                optionValueKey=\"id\"\n                name=\"user\"\n                value={permission.user}\n                formControlStyle={{ marginBottom: '5px', width: '80%' }}\n                clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n                closeMenuOnScroll={false}\n                onChange={(e) => onChange('user', e, i)}\n              />\n              <Selection\n                readOnly={Boolean(permission.id)}\n                fetchAPI={(e) => onFetch(e, models.group, 'name')}\n                isSearchable={true}\n                optionLabelKey={'name'}\n                optionValueKey=\"id\"\n                name=\"group\"\n                value={permission.group}\n                formControlStyle={{ marginBottom: '5px', width: '80%' }}\n                clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n                closeMenuOnScroll={false}\n                onChange={(e) => onChange('group', e, i)}\n              />\n              <Selection\n                readOnly={Boolean(permission.id)}\n                name=\"value\"\n                value={permission.value}\n                onChange={(e) => onChange('value', e, i)}\n                options={permissionValues}\n                formControlStyle={{ marginBottom: '5px', width: '80%' }}\n                clearIndicatorStyle={{ paddingLeft: '0 !important' }}\n                closeMenuOnScroll={false}\n              />\n            </Grid>\n            <CloseIcon\n              className={classes.closeIcon}\n              onClick={() => onRemove(i)}\n            />\n          </div>\n        ))}\n        <AddIcon className={classes.addIcon} onClick={onNew} />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} variant=\"outlined\">\n          {translate('Close')}\n        </Button>\n        <Button onClick={onSave} variant=\"contained\" color=\"primary\">\n          {translate('OK')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction PermissionDialogContainer({ onSave, open, onClose, fileId }) {\n  const [permissionList, setPermissionList] = React.useState([\n    { ...defaultPermission },\n  ]);\n  const [removed, setRemoved] = React.useState([]);\n\n  React.useEffect(() => {\n    getPermission(fileId).then((res) => {\n      const { data = [] } = res;\n      if (data.length > 0) {\n        setPermissionList([...data]);\n      } else {\n        setPermissionList([{ ...defaultPermission }]);\n      }\n    });\n  }, [fileId]);\n\n  const handleSave = React.useCallback(() => {\n    managePermission(fileId, permissionList, removed).then((data = []) => {\n      setPermissionList([...data]);\n      onSave(data);\n      onClose();\n    });\n  }, [onSave, removed, permissionList, fileId, onClose]);\n\n  const handleChange = React.useCallback((key, value, i) => {\n    setPermissionList((p) => {\n      p[i] = { ...p[i], [key]: value };\n      return [...p];\n    });\n  }, []);\n\n  const handleRemove = React.useCallback(\n    (index) => {\n      const record = permissionList[index];\n      if (record) {\n        if (record.id) {\n          setRemoved((list) => {\n            return [...list, { ...record }];\n          });\n        }\n        setPermissionList((list) => {\n          list.splice(index, 1);\n          if (list.length === 0) {\n            list.push({ ...defaultPermission });\n          }\n          return [...list];\n        });\n      }\n    },\n    [permissionList]\n  );\n\n  const handleNew = React.useCallback(() => {\n    const record = permissionList[permissionList.length - 1];\n    if (record.user && record.group) {\n      setPermissionList((list) => {\n        return [...list, { ...defaultPermission }];\n      });\n    }\n  }, [permissionList]);\n\n  const handleFetch = React.useCallback((e, model, targetField) => {\n    const services = getRestClient(model);\n    const data = {\n      ...(e.search !== '' && {\n        criteria: [\n          { fieldName: targetField, operator: 'like', value: e.search },\n        ],\n      }),\n    };\n    return services.search({ fields: [targetField], data }).then((res) => {\n      const { data = [] } = res;\n      return data;\n    });\n  }, []);\n\n  return (\n    <>\n      <Hidden only=\"xs\">\n        <DesktopView\n          open={open}\n          onSave={handleSave}\n          onNew={handleNew}\n          onRemove={handleRemove}\n          onChange={handleChange}\n          onFetch={handleFetch}\n          onClose={onClose}\n          permissionList={permissionList}\n        />\n      </Hidden>\n      <Hidden smUp>\n        <MobileView\n          open={open}\n          onSave={handleSave}\n          onNew={handleNew}\n          onRemove={handleRemove}\n          onChange={handleChange}\n          onFetch={handleFetch}\n          onClose={onClose}\n          permissionList={permissionList}\n        />\n      </Hidden>\n    </>\n  );\n}\n\nexport default PermissionDialogContainer;\n","import PermissionDialog from './PermissionDialog';\n\nexport default PermissionDialog;\n","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    height: 'inherit',\n    width: 'inherit',\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  top: {\n    color: '#eef3fd',\n  },\n  bottom: {\n    color: '#3ecf8e',\n    animationDuration: '250ms',\n    position: 'absolute',\n  },\n});\n\nfunction Loader(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress\n        variant=\"determinate\"\n        value={100}\n        className={classes.top}\n        size={24}\n        thickness={4}\n        {...props}\n      />\n      <CircularProgress\n        variant=\"indeterminate\"\n        disableShrink\n        className={classes.bottom}\n        size={24}\n        thickness={4}\n        {...props}\n      />\n    </div>\n  );\n}\n\nexport default Loader\n","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DmsTree from './components/TreeView';\nimport GridView from './components/GridView';\nimport UploadView from './components/UploadView';\nimport Toolbar from './components/Toolbar';\nimport SideDetailView from './components/side-detail-view';\nimport VersionDialog from './components/version-dialog';\nimport TagsFilterTree from './components/TagsFilterTree';\nimport SideTreeView from './components/SideTreeView';\nimport PermissionDialog from './components/permission-dialog';\nimport Loader from './components/Loader';\n\nconst useStyles = makeStyles((theme) => ({\n  sideColumn: {\n    border: '1px solid',\n    width: 250,\n  },\n  contentColumn: {\n    flexGrow: 1,\n  },\n  dmsContentContainer: {\n    display: 'flex',\n    width: '100%',\n    position: 'relative',\n    height: 'calc(100% - 50px)',\n    marginTop: theme.spacing(0.5),\n    '.popup &': {\n      height: '60vh',\n    },\n    [theme.breakpoints.only('xs')]: {\n      flexDirection: 'column', // DMS Tree view on top of files in mobile\n    },\n  },\n  dmsGridContainer: {\n    width: 'calc(100% - 250px)',\n    [theme.breakpoints.only('xs')]: {\n      width: '100%', // Full width grid on mobile\n    },\n    position: 'relative',\n    display: 'flex',\n    overflow: 'hidden',\n    flexGrow: 1,\n    height: '100%',\n  },\n  dmsSideTreeView: {\n    height: '100%',\n    backgroundColor: theme.palette.grey[100],\n    [theme.breakpoints.only('xs')]: {\n      height: 'auto', // Collapse panel in mobile\n    },\n  },\n  fileInput: {\n    display: 'none',\n  },\n}));\n\nfunction Dms({\n  data,\n  treeData,\n  viewMode,\n  fields,\n  filters,\n  searchFilter,\n  projectList,\n  selectedProject,\n  pagination,\n  currentFolder,\n  favouriteSearch,\n  tagList,\n  selectedTags,\n  selectedFiles,\n  breadcrumb,\n  uploadFiles,\n  sortingField,\n  customFields,\n  userId,\n  versionDialog,\n  fileInput,\n  document,\n  handleViewModeChange,\n  handleFilterChange,\n  handleFilterSave,\n  handleFilterRemove,\n  handleSelectedProject,\n  handleNext,\n  handlePrev,\n  handleFavouriteSearch,\n  handleContentSearch,\n  handleOpenUpload,\n  handleExport,\n  handleExportAll,\n  handleFolderDoubleClick,\n  handleFolderCreate,\n  handleFilterTagCheck,\n  handleFileUpload,\n  handleSelect,\n  handleSortingField,\n  handleDocumentDelete,\n  handleDocumentClose,\n  handleDownload,\n  handleDocumentLock,\n  handleDocumentUnlock,\n  cancelUpload,\n  showPermission,\n  handlePermissionClose,\n  handlePermissionOpen,\n  handleSavePermission,\n  handleMetaFileDownload,\n  handleFavouriteDocument,\n  retryUpload,\n  handleVersionDialog,\n  handleSendMail,\n  handleTagSave,\n  handleVersionRestore,\n  handleVersionUpdate,\n  handleFileSelect,\n  versionRecord,\n  loading,\n}) {\n  const classes = useStyles();\n  const handleNewVersion = useCallback(() => handleVersionDialog(true), [\n    handleVersionDialog,\n  ]);\n  const handleCloseVersionDialog = useCallback(\n    () => handleVersionDialog(false),\n    [handleVersionDialog]\n  );\n  const handleFileRef = useCallback(\n    (c) => {\n      if (c) {\n        fileInput.current = c;\n      }\n    },\n    [fileInput]\n  );\n\n  return (\n    <>\n      <Toolbar\n        viewMode={viewMode}\n        onViewModeChange={handleViewModeChange}\n        fields={fields}\n        onFilter={handleFilterChange}\n        onSave={handleFilterSave}\n        onRemove={handleFilterRemove}\n        filters={filters}\n        searchFilter={searchFilter}\n        projectList={projectList}\n        selectedProject={selectedProject}\n        handleSelectedProject={handleSelectedProject}\n        onNext={handleNext}\n        onPrev={handlePrev}\n        pagination={pagination}\n        favouriteSearch={favouriteSearch}\n        onFavouriteSearch={handleFavouriteSearch}\n        onContentSearch={handleContentSearch}\n        onOpenUpload={handleOpenUpload}\n        onExport={handleExport}\n        onExportAll={handleExportAll}\n      />\n      {\n        loading ?\n          <Loader />\n        :\n          <div className={classes.dmsContentContainer}>\n            <div className={classes.dmsSideTreeView}>\n              <SideTreeView hasData={Boolean(currentFolder)}>\n                <DmsTree\n                  currentFolder={currentFolder}\n                  data={treeData}\n                  handleFolder={handleFolderDoubleClick}\n                  onFolderCreate={handleFolderCreate}\n                />\n\n                <TagsFilterTree\n                  currentFolder={currentFolder}\n                  data={tagList}\n                  onChecked={handleFilterTagCheck}\n                  selectedTags={selectedTags}\n                />\n              </SideTreeView>\n            </div>\n            <div className={classes.dmsGridContainer}>\n              <GridView\n                data={data}\n                handleFileUpload={handleFileUpload}\n                viewMode={viewMode}\n                onSelect={handleSelect}\n                onFolderDoubleClick={handleFolderDoubleClick}\n                selectedFiles={selectedFiles}\n                sortingField={sortingField}\n                onSorting={handleSortingField}\n                onDelete={handleDocumentDelete}\n                breadcrumb={breadcrumb}\n                onFavouriteDocument={handleFavouriteDocument}\n                userId={userId}\n                customFields={customFields}\n              />\n              <UploadView\n                droppedFiles={uploadFiles}\n                cancelUpload={cancelUpload}\n                retryUpload={retryUpload}\n              />\n            </div>\n          </div>\n      }\n      <SideDetailView\n        document={document}\n        onClose={handleDocumentClose}\n        onDownload={handleDownload}\n        onLock={handleDocumentLock}\n        onUnlock={handleDocumentUnlock}\n        onSendMail={handleSendMail}\n        userId={userId}\n        onNewVersion={handleNewVersion}\n        onVersionDownload={handleMetaFileDownload}\n        onRestore={handleVersionRestore}\n        tagList={tagList}\n        onTagSave={handleTagSave}\n        onPermission={handlePermissionOpen}\n      />\n      <VersionDialog\n        open={versionDialog}\n        onClose={handleCloseVersionDialog}\n        onSave={handleVersionUpdate}\n        versionRecord={versionRecord}\n      />\n      <input\n        className={classes.fileInput}\n        type=\"file\"\n        multiple={true}\n        ref={handleFileRef}\n        onChange={handleFileSelect}\n      />\n      {document && (\n        <PermissionDialog\n          open={showPermission}\n          onClose={handlePermissionClose}\n          fileId={document.id}\n          onSave={handleSavePermission}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Dms;\n","import React, { useCallback } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { filterFields } from './constant';\nimport Dms from './Dms';\nimport {\n  httpService,\n  dmsService,\n  dmsVersionService,\n  tagsService,\n} from './service';\nimport {\n  getDefaultIncrement,\n  getProjects,\n  lockDocument,\n  unlockDocument,\n  sendMail,\n  getFilters,\n  removeFilter,\n  saveFilter,\n  getCustomFields,\n} from './api';\nimport {\n  FILE_UPLOAD_STATUS,\n  sortValues,\n  getOrder,\n  getOrderField,\n  getBreadcrumb,\n} from './utils';\n\nconst MAX_CHUNK = 1000000;\nconst RECORD_LIMIT = 40;\n\nexport function getDocumentURL(dmsId) {\n  return `${httpService.instance.defaults.baseURL}ws/dms/inline/${dmsId}`;\n}\n\nexport function getDMSDownloadURL(dmsId) {\n  return `${httpService.instance.defaults.baseURL}ws/dms/download/${dmsId}`;\n}\n\nfunction DmsContainer({ userInfo = {} }) {\n  const [currentFolder, setCurrentFolder] = React.useState();\n  const [pagination, setPagination] = React.useState({\n    offset: 0,\n    limit: RECORD_LIMIT,\n    total: 0,\n  });\n  const [treeData, setTreeData] = React.useState([]);\n  const [data, setData] = React.useState([]);\n  const [droppedFiles, setDroppedFiles] = React.useState([]);\n  const [uploadFiles, setUploadFiles] = React.useState([]);\n  const [uploading, setUploading] = React.useState(false);\n  const [viewMode, setViewMode] = React.useState('list');\n  const [selectedFiles, setSelectedFiles] = React.useState([]);\n  const [document, setDocument] = React.useState();\n  const [sortingField, setSortingField] = React.useState();\n  const [versionDialog, setVersionDialog] = React.useState(false);\n  const [defaultIncrement, setDefaultIncrement] = React.useState('1.0');\n  const [projectList, setProjectList] = React.useState([]);\n  const [selectedProject, setSelectedProject] = React.useState();\n  const [projectRoot, setProjectRoot] = React.useState();\n  const [breadcrumb, setBreadcrumb] = React.useState([]);\n  const [showPermission, setShowPermission] = React.useState(false);\n  const [versionRecord, setVersionRecord] = React.useState();\n  const [loading, setLoading] = React.useState(true);\n\n  // advance search filters\n  const [filters, setFilters] = React.useState([]);\n  const [searchFilter, setSearchFilter] = React.useState();\n  const [favouriteSearch, setFavouriteSearch] = React.useState();\n  const [contentSearch, setContentSearch] = React.useState();\n  const [customFields, setCustomFields] = React.useState([]);\n\n  // tags filters\n  const [tagList, setTagList] = React.useState([]);\n  const [selectedTags, setSelectedTags] = React.useState([]);\n\n  const uploadFilesRef = React.useRef(droppedFiles);\n  const fileInput = React.useRef();\n\n  const getUserId = React.useCallback(() => {\n    return userInfo && userInfo['user.id'];\n  }, [userInfo]);\n\n  const resetPagination = React.useCallback(() => {\n    setPagination({ offset: 0, limit: RECORD_LIMIT, total: 0 });\n  }, []);\n\n  const getVisibleInGrid = React.useCallback(() => {\n    return customFields\n      .map((field) => {\n        if (field.visibleInGrid) {\n          return `${field.modelField}.${field.name}`;\n        } else {\n          return null;\n        }\n      })\n      .filter((e) => e);\n  }, [customFields]);\n\n  const handleSetTreeData = React.useCallback((records) => {\n    setTreeData((_data) => {\n      const list = records.filter(\n        (d) => _data.findIndex((_d) => _d.id === d.id) === -1 && d.isDirectory\n      );\n      return [..._data, ...list];\n    });\n  }, []);\n\n  const getRelatedInfo = React.useCallback(\n    (id) => {\n      const record = data.find((d) => d.id === id) || {};\n      return { relatedId: record.relatedId, relatedModel: record.relatedModel };\n    },\n    [data]\n  );\n\n  React.useEffect(() => {\n    if (selectedProject) {\n      const data = {\n        criteria: [\n          {\n            fieldName: 'projectSet.id',\n            operator: 'in',\n            value: [selectedProject.id],\n          },\n        ],\n      };\n      const fields = ['projectSet', 'name', 'color', 'tagList'];\n      tagsService.search({ data, fields }).then((res) => {\n        const { data = [] } = res;\n        setTagList([...data]);\n      });\n    }\n  }, [selectedProject]);\n\n  React.useEffect(() => {\n    if (currentFolder) {\n      const data = {\n        _domain: `self.parent.id = ${currentFolder} and self.isDirectory = true`,\n      };\n      const fields = [\n        'fileName',\n        'parent.id',\n        'isDirectory',\n        'metaFile.sizeText',\n        'typeIcon',\n        'relatedModel',\n        'relatedId',\n        'isLock',\n        'lockedBy',\n        'metaFile.id',\n        ...getVisibleInGrid(),\n      ];\n      dmsService.search({ data, fields }).then((res) => {\n        const { data = [] } = res;\n        handleSetTreeData(data);\n      });\n    }\n  }, [currentFolder, handleSetTreeData, getVisibleInGrid]);\n\n  const { limit, offset } = pagination;\n  React.useEffect(() => {\n    if (currentFolder) {\n      const criteria = [];\n      if (searchFilter && searchFilter.query) {\n        criteria.push({ ...searchFilter.query });\n      }\n      if (selectedTags.length) {\n        criteria.push({\n          fieldName: 'tags.id',\n          operator: 'in',\n          value: selectedTags,\n        });\n      }\n      if (favouriteSearch) {\n        criteria.push({\n          fieldName: 'favouriteUserSet.id',\n          operator: 'in',\n          value: [userInfo['user.id']],\n        });\n      }\n      if (contentSearch) {\n        criteria.push({\n          fieldName: 'fileName',\n          operator: 'like',\n          value: contentSearch,\n        });\n      }\n      const data = {\n        _domain: `self.parent.id = ${currentFolder}`,\n        criteria,\n        operator: 'and',\n      };\n      const fields = [\n        'fileName',\n        'parent.id',\n        'isDirectory',\n        'metaFile.sizeText',\n        'typeIcon',\n        'relatedModel',\n        'relatedId',\n        'isLock',\n        'lockedBy',\n        'metaFile.id',\n        'tags',\n        'favouriteUserSet',\n        ...getVisibleInGrid(),\n      ];\n      const sortBy = ['-isDirectory', 'fileName'];\n      dmsService.search({ data, fields, limit, offset, sortBy }).then((res) => {\n        const { data = [] } = res;\n        setLoading(false);\n        setData(data);\n        setPagination((_pagination) => {\n          return { ..._pagination, total: res.total };\n        });\n      });\n    }\n  }, [\n    searchFilter,\n    currentFolder,\n    selectedTags,\n    offset,\n    limit,\n    favouriteSearch,\n    userInfo,\n    contentSearch,\n    getVisibleInGrid,\n  ]);\n\n  const handleExport = React.useCallback(\n    (all = false) => {\n      if (currentFolder) {\n        const criteria = [];\n        if (searchFilter && searchFilter.query) {\n          criteria.push({ ...searchFilter.query });\n        }\n        if (selectedTags.length) {\n          criteria.push({\n            fieldName: 'tags.id',\n            operator: 'in',\n            value: selectedTags,\n          });\n        }\n        if (favouriteSearch) {\n          criteria.push({\n            fieldName: 'favouriteUserSet.id',\n            operator: 'in',\n            value: [userInfo['user.id']],\n          });\n        }\n        if (contentSearch) {\n          criteria.push({\n            fieldName: 'fileName',\n            operator: 'like',\n            value: contentSearch,\n          });\n        }\n        const data = {\n          _domain: `self.parent.id = ${currentFolder}`,\n          criteria,\n          operator: 'and',\n        };\n        const fields =\n          all === true\n            ? []\n            : [\n                'fileName',\n                'metaFile.sizeText',\n                'typeIcon',\n                'isLock',\n                'lockedBy',\n                'metaFile.id',\n                'tags',\n                ...getVisibleInGrid(),\n              ];\n        const sortBy = ['isDirectory'];\n        dmsService.export({ data, fields, sortBy });\n      }\n    },\n    [\n      searchFilter,\n      currentFolder,\n      selectedTags,\n      favouriteSearch,\n      userInfo,\n      contentSearch,\n      getVisibleInGrid,\n    ]\n  );\n\n  const fetchProjects = React.useCallback(() => {\n    const userId = getUserId();\n    if (!userId) return;\n    getProjects(userId).then((list) => {\n      setProjectList(list);\n      if(list.length === 0) {\n        setLoading(false);\n      }\n    });\n  }, [getUserId]);\n\n  const fetchCustomFields = React.useCallback(() => {\n    getCustomFields().then(setCustomFields);\n  }, []);\n\n  const fetchOrCreateProjectRoot = React.useCallback(() => {\n    const query = {\n      _domain:\n        \"self.relatedModel = 'com.axelor.apps.project.db.Project' and self.relatedId = 0 and self.isDirectory = true and self.parent = null\",\n    };\n    dmsService.search({ data: query }).then((res) => {\n      const { data = [] } = res;\n      if (data[0]) {\n        setProjectRoot(data[0]);\n      } else {\n        const object = {\n          relatedModel: 'com.axelor.apps.project.db.Project',\n          relatedId: 0,\n          isDirectory: true,\n          parent: null,\n          fileName: 'Projects',\n        };\n        dmsService.save(object).then((result) => {\n          const { data = [] } = result;\n          if (data[0]) {\n            setProjectRoot(data[0]);\n          }\n        });\n      }\n    });\n  }, []);\n\n  const fetchOrCreateProjectDirectory = React.useCallback(\n    (project, projectRoot) => {\n      let _domain = `self.relatedModel = 'com.axelor.apps.project.db.Project' and self.isDirectory = true and self.relatedId = ${project.id}`;\n      if(projectRoot) {\n        _domain = `${_domain} and self.parent.id = ${projectRoot.id}`;\n      };\n      const query = {\n        _domain,\n      };\n      const fields = [\n        'fileName',\n        'parent.id',\n        'isDirectory',\n        'metaFile.sizeText',\n        'typeIcon',\n        'relatedModel',\n        'relatedId',\n        'isLock',\n        'lockedBy',\n        'metaFile.id',\n        'tags',\n        'favouriteUserSet',\n        ...getVisibleInGrid(),\n      ];\n      dmsService.search({ fields, data: query }).then((res) => {\n        const { data = [] } = res;\n        if (data[0]) {\n          resetPagination();\n          setCurrentFolder(data[0].id);\n          setTreeData((d) => {\n            return [...d, { ...data[0] }];\n          });\n          setBreadcrumb([{ ...data[0] }]);\n        } else {\n          const object = {\n            relatedModel: 'com.axelor.apps.project.db.Project',\n            relatedId: project.id,\n            isDirectory: true,\n            parent: null,\n            fileName: project.fullName,\n          };\n          dmsService.save(object).then((result) => {\n            const { data = [] } = result;\n            if (data[0]) {\n              resetPagination();\n              setCurrentFolder(data[0].id);\n              setTreeData((d) => {\n                return [...d, { ...data[0], 'parent.id': data[0].parent.id }];\n              });\n              setBreadcrumb([{ ...data[0], 'parent.id': data[0].parent.id }]);\n            }\n          });\n        }\n      });\n    },\n    [resetPagination, getVisibleInGrid]\n  );\n\n  const createDMSVersion = React.useCallback(\n    (metaFile, dmsId, version = defaultIncrement) => {\n      const data = {\n        metaFile,\n        documentId: { id: dmsId },\n        documentVersion: version,\n      };\n      return dmsVersionService.save(data).then((res) => {\n        const { data } = res;\n        if (data[0]) {\n          return data[0];\n        }\n        return null;\n      });\n    },\n    [defaultIncrement]\n  );\n\n  const handleDocumentCreate = React.useCallback(\n    (document, version = null) => {\n      dmsService.save(document).then((res) => {\n        const { data = [] } = res || {};\n        const record = data[0];\n        if (record.id) {\n          createDMSVersion(record.metaFile, record.id, version);\n          if (version) {\n            setData((data) => {\n              const index = data.find((d) => d.id === record.id);\n              if (index !== -1) {\n                data[index] = { ...record, 'metaFile.id': record.metaFile.id };\n              }\n              return [...data];\n            });\n            setDocument({ ...record, 'metaFile.id': record.metaFile.id });\n          } else {\n            const parentId = record.parent ? record.parent.id : null;\n            if (record.isDirectory) {\n              setTreeData((data) => {\n                return [...data, { ...record, 'parent.id': parentId }];\n              });\n            }\n            setData((data) => {\n              return [...data, { ...record }];\n            });\n            setCurrentFolder(parentId);\n          }\n        }\n      });\n    },\n    [createDMSVersion]\n  );\n\n  const updateProgress = React.useCallback((end, id) => {\n    setUploadFiles((files) => {\n      const index = files.findIndex((f) => f.id === id);\n      if (index !== -1) {\n        const file = files[index].file;\n        const progress = (100 * end) / file.size;\n        files[index] = { ...files[index], progress };\n      }\n      return [...files];\n    });\n  }, []);\n\n  const uploadChunk = React.useCallback(\n    (fileItem, offset = 0, fileId = null) => {\n      const { id, file } = fileItem;\n      const fileObj = (uploadFilesRef.current || []).find((x) => x.id === id);\n      if (fileObj && fileObj.status === FILE_UPLOAD_STATUS.CANCEL) {\n        return;\n      }\n      const end =\n        offset + MAX_CHUNK < file.size ? offset + MAX_CHUNK : file.size;\n      const blob = file.slice(offset, end);\n      const headers = {\n        'X-File-Name': file.name,\n        'X-File-Offset': Math.min(offset, file.size),\n        'X-File-Size': file.size,\n        'X-File-Type': file.type,\n      };\n      if (fileId) {\n        headers['X-File-Id'] = fileId;\n      }\n      return httpService\n        .upload(blob, headers, (res) => {\n          updateProgress(end, id);\n        })\n        .then((result) => {\n          if (result.id) {\n            return Promise.resolve(result);\n          } else {\n            let _fileId = fileId;\n            if (result.fileId) {\n              _fileId = result.fileId;\n            }\n            const newOffset = offset + MAX_CHUNK;\n            return uploadChunk(fileItem, newOffset, _fileId);\n          }\n        });\n    },\n    [updateProgress]\n  );\n\n  const doFileUpload = React.useCallback(\n    async (droppedFiles, version = null) => {\n      // const files = Array.prototype.slice.call(_files).slice(0);\n      setUploadFiles(droppedFiles);\n      setUploading(true);\n      for (let i = 0; i < droppedFiles.length; i++) {\n        const fileItem = droppedFiles[i];\n        const result = await uploadChunk(fileItem);\n        if (result && result.id) {\n          if (version) {\n            const _document = {\n              metaFile: { id: result.id },\n              id: document.id,\n              version: document.version,\n            };\n            handleDocumentCreate(_document, version);\n          } else {\n            const { relatedId, relatedModel } = getRelatedInfo(currentFolder);\n            const document = {\n              metaFile: { id: result.id },\n              fileName: result.fileName,\n              tags: [],\n              ...(currentFolder && Number(currentFolder) > 0\n                ? { parent: { id: currentFolder } }\n                : {}),\n              ...(relatedId && relatedModel ? { relatedId, relatedModel } : {}),\n            };\n            handleDocumentCreate(document);\n          }\n          setUploadFiles((files) => {\n            const index = files.findIndex((f) => f.id === fileItem.id);\n            if (index !== -1) {\n              files[index].status = FILE_UPLOAD_STATUS.COMPLETED;\n            }\n            return [...files];\n          });\n        }\n      }\n      setUploadFiles((files) =>\n        files.filter((x) => x.status !== FILE_UPLOAD_STATUS.COMPLETED)\n      );\n      setDroppedFiles([]);\n      setUploading(false);\n    },\n    [getRelatedInfo, uploadChunk, currentFolder, handleDocumentCreate, document]\n  );\n\n  const cancelUpload = React.useCallback((id) => {\n    setUploadFiles((_files) => {\n      const index = _files.findIndex((f) => f.id === id);\n      if (\n        index !== -1 &&\n        _files[index].status !== FILE_UPLOAD_STATUS.COMPLETED\n      ) {\n        _files[index] = { ..._files[index], status: FILE_UPLOAD_STATUS.CANCEL };\n      }\n      return [..._files];\n    });\n  }, []);\n\n  const retryUpload = React.useCallback(\n    (id) => {\n      const _files = [...uploadFiles];\n      const index = _files.findIndex((f) => f.id === id);\n      if (\n        index !== -1 &&\n        _files[index].status !== FILE_UPLOAD_STATUS.COMPLETED\n      ) {\n        _files[index] = {\n          ..._files[index],\n          status: FILE_UPLOAD_STATUS.PENDING,\n        };\n      }\n      uploadFilesRef.current = _files;\n      // doFileUpload(_files);\n    },\n    [uploadFiles]\n  );\n\n  const handleFileUpload = React.useCallback((_files) => {\n    const files = Array.prototype.slice.call(_files).slice(0);\n    const fileList = files.map((f, i) => {\n      return {\n        file: f,\n        id: i,\n        progress: 0,\n        status: FILE_UPLOAD_STATUS.PENDING,\n      };\n    });\n    setDroppedFiles(fileList);\n  }, []);\n\n  const handleViewModeChange = React.useCallback((mode) => {\n    setViewMode(mode);\n  }, []);\n\n  const handleSelect = React.useCallback((record, multiSelection) => {\n    if (multiSelection) {\n      setSelectedFiles((files) => {\n        const index = files.findIndex((f) => f.id === record.id);\n        if (index === -1) {\n          files.push({ ...record });\n        } else {\n          files.splice(index, 1);\n        }\n        return [...files];\n      });\n      setDocument();\n    } else {\n      setDocument(record);\n      setSelectedFiles([record]);\n    }\n  }, []);\n\n  const handleDocumentClose = useCallback(() => {\n    setSelectedFiles((prevSelectedFiles) =>\n      prevSelectedFiles.filter((f) => f.id !== document.id)\n    );\n    setDocument(undefined);\n  }, [document]);\n\n  const handleDownload = React.useCallback(() => {\n    httpService.download(document);\n  }, [document]);\n\n  const updateDocument = React.useCallback((res, openDocument = true) => {\n    const { data = [] } = res;\n    if (data[0]) {\n      openDocument && setDocument({ ...data[0] });\n      setData((_data) => {\n        const index = _data.findIndex((d) => d.id === data[0].id);\n        if (index !== -1) {\n          _data[index] = { ...data[0], 'parent.id': data[0].parent.id };\n        }\n        return [..._data];\n      });\n    }\n  }, []);\n\n  const handleDocumentLock = React.useCallback(() => {\n    lockDocument(document, getUserId()).then(updateDocument);\n  }, [document, getUserId, updateDocument]);\n\n  const handleDocumentUnlock = React.useCallback(() => {\n    unlockDocument(document).then(updateDocument);\n  }, [document, updateDocument]);\n\n  const handleSendMail = React.useCallback(() => {\n    return sendMail(document).then(\n      (s) => s === 0 && alert('Mail sent to the user')\n    );\n  }, [document]);\n\n  const handleFolderDoubleClick = React.useCallback(\n    (record) => {\n      resetPagination();\n      setBreadcrumb(getBreadcrumb(record, treeData));\n      setCurrentFolder(record.id);\n    },\n    [resetPagination, treeData]\n  );\n\n  const handleFilterSave = React.useCallback((filter) => {\n    return saveFilter(filter).then((data) => {\n      if (data.id) {\n        setFilters((d) => {\n          const index = d.findIndex((_d) => _d.id === data.id);\n          if (index === -1) {\n            d.push({ ...data });\n          } else {\n            d[index] = { ...data };\n          }\n          return [...d];\n        });\n        return data;\n      }\n    });\n  }, []);\n\n  const fetchFilters = React.useCallback(() => {\n    getFilters().then(setFilters);\n  }, []);\n\n  const handleFilterRemove = React.useCallback((filter) => {\n    return removeFilter(filter).then((data) => {\n      if (data.name) {\n        setFilters((d) => {\n          const index = d.findIndex((_d) => _d.name === data.name);\n          if (index !== -1) {\n            d.splice(index, 1);\n          }\n          return [...d];\n        });\n        return data;\n      }\n    });\n  }, []);\n\n  const handleSortingField = React.useCallback((field) => {\n    setSortingField(field);\n    setData((data) => {\n      data.sort(sortValues(getOrderField(field), getOrder(field)));\n      return [...data];\n    });\n  }, []);\n\n  const handleVersionDialog = React.useCallback((flag) => {\n    setVersionDialog(flag);\n  }, []);\n\n  const handleVersionUpdate = React.useCallback(\n    (record) => {\n      const files = Array.prototype.slice.call(record.file).slice(0);\n      const fileList = files.map((f, i) => {\n        return {\n          file: f,\n          id: i,\n          progress: 0,\n          status: FILE_UPLOAD_STATUS.PENDING,\n        };\n      });\n      doFileUpload([...fileList], record.version);\n    },\n    [doFileUpload]\n  );\n\n  const handleVersionRestore = React.useCallback(\n    (record) => {\n      const data = {\n        version: document.version,\n        id: document.id,\n        metaFile: { id: record.metaFile.id },\n      };\n      dmsService.save(data).then((res) => {\n        const { data = [] } = res;\n        if (data[0]) {\n          const { metaFile = {} } = data[0];\n          setData((data) => {\n            const index = data.findIndex((d) => d.id === data[0].id);\n            if (index !== -1) {\n              data[index] = { ...data[0], 'metaFile.id': metaFile.id };\n            }\n            return [...data];\n          });\n          setDocument({ ...data[0], 'metaFile.id': metaFile.id });\n        }\n      });\n    },\n    [document]\n  );\n\n  const handleMetaFileDownload = React.useCallback((record) => {\n    const { metaFile = {} } = record;\n    if (metaFile.id) {\n      httpService.metaFileDownload(metaFile);\n    }\n  }, []);\n\n  const handleFilterChange = React.useCallback(\n    (filter) => {\n      if (!Array.isArray(filter.query)) {\n        resetPagination();\n        setSearchFilter(filter);\n      }\n    },\n    [resetPagination]\n  );\n\n  const handleFilterTagCheck = React.useCallback(\n    (filter) => {\n      resetPagination();\n      setSelectedTags((tags) => {\n        if (filter.length > 1) {\n          const hasFilter = tags.includes(filter[0]);\n          if (hasFilter) {\n            const unique = tags.filter((f) => !filter.includes(f));\n            return [...unique];\n          } else {\n            const unique = filter.filter((f) => !tags.includes(f));\n            return [...tags, ...unique];\n          }\n        } else {\n          const index = tags.findIndex((f) => f === filter[0]);\n          if (index !== -1) {\n            tags.splice(index, 1);\n          } else {\n            tags.push(filter[0]);\n          }\n        }\n        return [...tags];\n      });\n    },\n    [resetPagination]\n  );\n\n  const handleSelectedProject = React.useCallback(\n    (project) => {\n      setSelectedProject(project);\n    },\n    []\n  );\n\n  React.useEffect(() => {\n    if(selectedProject && projectRoot) {\n      fetchOrCreateProjectDirectory(selectedProject, projectRoot);\n      setLoading(true);\n      setTreeData([]);\n    }\n  }, [selectedProject, projectRoot, fetchOrCreateProjectDirectory]);\n\n  const handleTagSave = useCallback(\n    (tags) => {\n      const record = {\n        id: document.id,\n        version: document.version,\n        tags,\n      };\n\n      dmsService.save(record).then((res) => {\n        const { data = [] } = res;\n        if (data[0]) {\n          setDocument({ ...data[0] });\n          setData((_data) => {\n            const index = _data.findIndex((d) => d.id === data[0].id);\n            if (index !== -1) {\n              _data[index] = { ...data[0] };\n            }\n            return [..._data];\n          });\n        }\n      }, []);\n    },\n    [document]\n  );\n\n  const handleFolderCreate = React.useCallback(\n    (document) => {\n      handleDocumentCreate(document);\n    },\n    [handleDocumentCreate]\n  );\n\n  const handleDocumentDelete = React.useCallback(\n    (document) => {\n      const index = selectedFiles.findIndex((f) => f.id === document.id);\n      let removeIds = [];\n      let searchIds =\n        index === -1 ? [document.id] : selectedFiles.map((f) => f.id);\n      if (index === -1) {\n        removeIds.push({ id: document.id });\n        setSelectedFiles([]);\n      } else {\n        removeIds = selectedFiles;\n        setSelectedFiles([]);\n      }\n      const _versionData = {\n        criteria: [\n          { fieldName: 'documentId.id', operator: 'in', value: searchIds },\n        ],\n      };\n      dmsVersionService\n        .search({ fields: ['id'], data: _versionData })\n        .then((res) => {\n          const { data = [] } = res;\n          dmsVersionService.removeAll(data).then((removedVersion) => {\n            dmsService.removeAll(removeIds).then((result) => {\n              const { data: removedFiles = [] } = result;\n              if (removedFiles.length) {\n                const ids = removedFiles.map((f) => f.id);\n                setData((_data) => {\n                  const list = _data.filter((d) => !ids.includes(d.id));\n                  return [...list];\n                });\n                setTreeData((_data) => {\n                  const list = _data.filter((d) => !ids.includes(d.id));\n                  return [...list];\n                });\n                setDocument();\n              }\n            });\n          });\n        });\n    },\n    [selectedFiles]\n  );\n\n  const handleNext = React.useCallback(() => {\n    setPagination((p) => {\n      const newOffset = p.offset + p.limit;\n      return { ...p, offset: newOffset < p.total ? newOffset : p.total };\n    });\n  }, []);\n\n  const handlePrev = React.useCallback(() => {\n    setPagination((p) => {\n      const newOffset = p.offset - p.limit;\n      return { ...p, offset: newOffset > 0 ? newOffset : 0 };\n    });\n  }, []);\n\n  const handleFavouriteSearch = React.useCallback(() => {\n    setFavouriteSearch((search) => !search);\n  }, []);\n\n  const handleFavouriteDocument = React.useCallback(\n    (record) => {\n      const favouriteUserSet = [...record.favouriteUserSet];\n      const index = favouriteUserSet.findIndex(\n        (f) => f.id === userInfo['user.id']\n      );\n      if (index === -1) {\n        favouriteUserSet.push({ id: userInfo['user.id'] });\n      } else {\n        favouriteUserSet.splice(index, 1);\n      }\n      const data = {\n        id: record.id,\n        version: record.version,\n        favouriteUserSet,\n      };\n      dmsService.save(data).then((res) => {\n        updateDocument(res, false);\n      });\n    },\n    [updateDocument, userInfo]\n  );\n\n  const handleContentSearch = React.useCallback((value) => {\n    setContentSearch(value);\n  }, []);\n\n  const handleOpenUpload = React.useCallback(() => {\n    fileInput.current.click();\n  }, []);\n\n  const handleFileSelect = React.useCallback(() => {\n    handleFileUpload(fileInput.current.files);\n  }, [handleFileUpload]);\n\n  const handleExportAll = React.useCallback(() => {\n    handleExport(true);\n  }, [handleExport]);\n\n  const handlePermissionClose = React.useCallback(() => {\n    setShowPermission(false);\n  }, []);\n\n  const handlePermissionOpen = React.useCallback(() => {\n    setShowPermission(true);\n  }, []);\n\n  const handleSavePermission = React.useCallback(\n    (permissions) => {\n      setDocument((d) => {\n        return { ...d, permissions };\n      });\n      setData((list) => {\n        const index = list.findIndex((l) => l.id === document.id);\n        if (index !== -1) {\n          list[index] = { ...list[index], permissions };\n        }\n        return [...list];\n      });\n      setTreeData((list) => {\n        const index = list.findIndex((l) => l.id === document.id);\n        if (index !== -1) {\n          list[index] = { ...list[index], permissions };\n        }\n        return [...list];\n      });\n    },\n    [document]\n  );\n\n  const getCustomFilterFields = React.useCallback(() => {\n    return customFields.map((field) => {\n      return {\n        title: `${field.name} (${field.modelField})`,\n        name: `${field.modelField}.${field.name}::text`,\n        type: 'string',\n      };\n    });\n  }, [customFields]);\n\n  React.useEffect(() => {\n    if(selectedProject && projectRoot) {\n      fetchOrCreateProjectDirectory(selectedProject, projectRoot);\n    }\n  }, [selectedProject, projectRoot, fetchOrCreateProjectDirectory]);\n\n  React.useEffect(() => {\n    uploadFilesRef.current = uploadFiles;\n  }, [uploadFiles]);\n\n  React.useEffect(() => {\n    if (droppedFiles.length && !uploading) {\n      doFileUpload(droppedFiles);\n    }\n  }, [droppedFiles, uploading, doFileUpload]);\n\n  React.useEffect(() => {\n    if (document && document['metaFile.id']) {\n      const data = { _domain: `self.metaFile.id = ${document['metaFile.id']}` };\n\n      dmsVersionService\n        .search({ fields: ['documentVersion'], data })\n        .then((res) => {\n          const { data = [] } = res;\n          setVersionRecord((r) => ({\n            ...r,\n            version:\n              Number(defaultIncrement) +\n              (data[0] ? Number(data[0].documentVersion) : 0),\n          }));\n        });\n    }\n  }, [defaultIncrement, document]);\n\n  React.useEffect(() => {\n    if (!getUserId()) return;\n    setLoading(true);\n    getDefaultIncrement().then((di) => di && setDefaultIncrement(di));\n    fetchFilters();\n    fetchOrCreateProjectRoot();\n    fetchProjects();\n    fetchCustomFields();\n  }, [\n    fetchFilters,\n    fetchOrCreateProjectRoot,\n    fetchProjects,\n    getUserId,\n    fetchCustomFields,\n  ]);\n\n  return (\n    <Dms\n      data={data}\n      treeData={treeData}\n      viewMode={viewMode}\n      fields={[...filterFields, ...getCustomFilterFields()]}\n      filters={filters}\n      searchFilter={searchFilter}\n      projectList={projectList}\n      selectedProject={selectedProject}\n      pagination={pagination}\n      currentFolder={currentFolder}\n      favouriteSearch={favouriteSearch}\n      tagList={tagList}\n      selectedTags={selectedTags}\n      selectedFiles={selectedFiles}\n      breadcrumb={breadcrumb}\n      uploadFiles={uploadFiles}\n      sortingField={sortingField}\n      customFields={customFields}\n      userId={userInfo['user.id']}\n      userInfo={userInfo}\n      versionDialog={versionDialog}\n      fileInput={fileInput}\n      document={document}\n      handleViewModeChange={handleViewModeChange}\n      handleFilterChange={handleFilterChange}\n      handleFilterSave={handleFilterSave}\n      handleFilterRemove={handleFilterRemove}\n      handleSelectedProject={handleSelectedProject}\n      handleNext={handleNext}\n      handlePrev={handlePrev}\n      handleFavouriteSearch={handleFavouriteSearch}\n      handleContentSearch={handleContentSearch}\n      handleOpenUpload={handleOpenUpload}\n      handleExport={handleExport}\n      handleExportAll={handleExportAll}\n      handleFolderDoubleClick={handleFolderDoubleClick}\n      handleFolderCreate={handleFolderCreate}\n      handleFilterTagCheck={handleFilterTagCheck}\n      handleFileUpload={handleFileUpload}\n      handleSelect={handleSelect}\n      handleSortingField={handleSortingField}\n      handleDocumentDelete={handleDocumentDelete}\n      handleDocumentClose={handleDocumentClose}\n      handleDownload={handleDownload}\n      handleDocumentLock={handleDocumentLock}\n      handleDocumentUnlock={handleDocumentUnlock}\n      cancelUpload={cancelUpload}\n      showPermission={showPermission}\n      handlePermissionClose={handlePermissionClose}\n      handlePermissionOpen={handlePermissionOpen}\n      handleSavePermission={handleSavePermission}\n      handleMetaFileDownload={handleMetaFileDownload}\n      handleFavouriteDocument={handleFavouriteDocument}\n      retryUpload={retryUpload}\n      handleVersionDialog={handleVersionDialog}\n      handleSendMail={handleSendMail}\n      handleTagSave={handleTagSave}\n      handleVersionRestore={handleVersionRestore}\n      handleVersionUpdate={handleVersionUpdate}\n      handleFileSelect={handleFileSelect}\n      versionRecord={versionRecord}\n      loading={loading}\n    />\n  );\n}\n\nfunction Container(props) {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <DmsContainer {...props} />\n    </DndProvider>\n  );\n}\n\nexport default Container;\n","import React from 'react';\nimport { WithTheme } from './withRoot';\n\nimport DmsContainer from './DmsContainer';\nimport getRestClient from './service';\n\nexport const getThemeOptions = ({ language, theme } = {}) => {\n  const options = {};\n  if (language === 'ar' || language === 'he') options.direction = 'rtl';\n  if (theme === 'dark') options.palette = { type: 'dark' };\n  return options;\n};\n\nfunction App() {\n  const { direction, palette } = getThemeOptions({});\n\n  const [userInfo, setUserInfo] = React.useState({});\n\n  React.useEffect(() => {\n    const client = getRestClient();\n    client.info().then((info) => {\n      setUserInfo({ ...info });\n    });\n  }, []);\n\n  return (\n    <WithTheme direction={direction} palette={palette}>\n      <DmsContainer userInfo={userInfo} />\n    </WithTheme>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport DMSApp from './app';\n\nimport './style.css';\n\nfunction Dms() {\n  return <DMSApp />;\n}\n\nexport default Dms;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport DMS from './Dms';\n\nimport './index.css';\n\nReactDOM.render(<DMS />, document.getElementById('root'));\n"],"sourceRoot":""}